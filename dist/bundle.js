!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.plus=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.times=function(e){return new t(this.x*e,this.y*e)},t}(),o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(t,e){for(var n,r,i,s,u=[],l=2;l<arguments.length;l++)u[l-2]=arguments[l];var a=document.createElement(t);try{for(var c=o(Object.keys(e)),f=c.next();!f.done;f=c.next()){var p=f.value;a.setAttribute(p,e[p])}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var y=o(u),h=y.next();!h.done;h=y.next()){var d=h.value;a.appendChild(d)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}return a}var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(){function t(t,e,n){this.level=t,this.actors=e,this.status=n}return t.start=function(e){return new t(e,e.startActors,"playing")},Object.defineProperty(t.prototype,"player",{get:function(){return this.actors.find((function(t){return"player"===t.type}))},enumerable:!1,configurable:!0}),t.prototype.update=function(e,n){var r,o,i=this,u=this.actors.map((function(t){return t.update(e,i,n)})),l=new t(this.level,u,this.status);if("playing"!==l.status)return l;var a,c,f=l.player;if(this.level.touches(f.pos,f.size,"lava"))return new t(this.level,u,"lost");try{for(var p=s(u),y=p.next();!y.done;y=p.next()){var h=y.value;h!==f&&(c=f,(a=h).pos.x+a.size.x>c.pos.x&&a.pos.x<c.pos.x+c.size.x&&a.pos.y+a.size.y>c.pos.y&&a.pos.y<c.pos.y+c.size.y)&&(l=h.collide(l))}}catch(t){r={error:t}}finally{try{y&&!y.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}return l},t}(),l=function(){function t(t,e,n){this.pos=t,this.basePos=e,this.wobble=n,this.size=new r(.6,.6)}return Object.defineProperty(t.prototype,"type",{get:function(){return"coin"},enumerable:!1,configurable:!0}),t.create=function(e){var n=e.plus(new r(.2,.1));return new t(n,n,Math.random()*Math.PI*2)},t.prototype.collide=function(t){var e=this,n=t.actors.filter((function(t){return t!==e})),r=t.status;return n.some((function(t){return"coin"===t.type}))||(r="won"),new u(t.level,n,r)},t.prototype.update=function(e){var n=this.wobble+e*f,o=Math.sin(n)*p;return new t(this.basePos.plus(new r(0,o)),this.basePos,n)},t}(),a=function(){function t(t,e,n){this.speed=e,this.pos=t,this.reset=n,this.size=new r(1,1)}return Object.defineProperty(t.prototype,"type",{get:function(){return"lava"},enumerable:!1,configurable:!0}),t.create=function(e,n){switch(n){case"=":return new t(e,new r(2,0));case"|":return new t(e,new r(0,2));case"v":return new t(e,new r(0,3),e)}},t.prototype.collide=function(t){return new u(t.level,t.actors,"lost")},t.prototype.update=function(e,n){var r=this.pos.plus(this.speed.times(e));return n.level.touches(r,this.size,"wall")?this.reset?new t(this.reset,this.speed,this.reset):new t(this.pos,this.speed.times(-1)):new t(r,this.speed,this.reset)},t}(),c={".":"empty","#":"wall","+":"lava","@":function(){function t(t,e){this.pos=t,this.speed=e,this.size=new r(.8,1.5)}return Object.defineProperty(t.prototype,"type",{get:function(){return"player"},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e.plus(new r(0,-.5)),new r(0,0))},t.prototype.update=function(e,n,o){var i=0;o.ArrowLeft&&(i-=y),o.ArrowRight&&(i+=y);var s=this.pos,u=s.plus(new r(i*e,0));n.level.touches(u,this.size,"wall")||(s=u);var l=this.speed.y+e*d,a=s.plus(new r(0,l*e));return n.level.touches(a,this.size,"wall")?l=o.ArrowUp&&l>0?-v:0:s=a,new t(s,new r(i,l))},t}(),o:l,"=":a,v:a,"|":a,M:function(){function t(t){this.pos=t,this.size=new r(1.2,2)}return Object.defineProperty(t.prototype,"type",{get:function(){return"monster"},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e.plus(new r(0,-1)))},t.prototype.update=function(e,n){var o=(n.player.pos.x<this.pos.x?-1:1)*e*h,i=new r(this.pos.x+o,this.pos.y);return n.level.touches(i,this.size,"wall")?this:new t(i)},t.prototype.collide=function(t){var e=this,n=t.player;if(n.pos.y+n.size.y<this.pos.y+.5){var r=t.actors.filter((function(t){return t!=e}));return new u(t.level,r,t.status)}return new u(t.level,t.actors,"lost")},t}()},f=8,p=.07,y=7,h=4,d=30,v=17,w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},b=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(w(arguments[e]));return t},m=function(){function t(t){var e=this,n=t.trim().split("\n").map((function(t){return b(t)}));this.height=n.length,this.width=n[0].length,this.startActors=[],this.rows=n.map((function(t,n){return t.map((function(t,o){var i=c[t];return"string"==typeof i?i:(e.startActors.push(i.create(new r(o,n),t)),"empty")}))}))}return t.prototype.touches=function(t,e,n){for(var r=Math.floor(t.x),o=Math.ceil(t.x+e.x),i=Math.floor(t.y),s=Math.ceil(t.y+e.y),u=i;u<s;u++)for(var l=r;l<o;l++){if((l<0||l>=this.width||u<0||u>=this.height?"wall":this.rows[u][l])==n)return!0}return!1},t}();var g=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function u(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}l((r=r.apply(t,e||[])).next())}))},x=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function S(t){var e=null;requestAnimationFrame((function n(r){if(null!==e){var o=Math.min(r-e,100)/1e3;if(!1===t(o))return}e=r,requestAnimationFrame(n)}))}function P(t,e){var n=new e(document.body,t),r=u.start(t),o=1,i="yes",s=function(t){var e=Object.create(null);function n(n){t.includes(n.key)&&(e[n.key]="keydown"===n.type,n.preventDefault())}return window.addEventListener("keydown",n),window.addEventListener("keyup",n),e.unregister=function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",n)},e}(["ArrowLeft","ArrowRight","ArrowUp"]);return new Promise((function(t){function e(t){"Escape"===t.key&&(t.preventDefault(),"no"===i?(i="yes",S(u)):i=(i="yes")?"pausing":"yes")}function u(u){return"pausing"===i?(i="no",!1):(r=r.update(u,s),n.syncState(r),"playing"===r.status||(o>0?(o-=u,!0):(n.clear(),window.removeEventListener("keydown",e),s.unregister(),t(r.status),!1)))}window.addEventListener("keydown",e),S(u)}))}var z=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},j=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(z(arguments[e]));return t};!function(t,e){g(this,void 0,void 0,(function(){var n,r,o;return x(this,(function(i){switch(i.label){case 0:n=5,r=0,i.label=1;case 1:return r<t.length?[4,P(new m(t[r]),e)]:[3,4];case 2:"won"===(o=i.sent())&&r++,"lost"===o&&(console.log(--n+" жизней"),0===n&&(console.log("ты проиграл"),r=0,n=5)),i.label=3;case 3:return[3,1];case 4:return console.log("ты победил!"),[2]}}))}))}(["\n............................................\n............................................\n............................................\n............................................\n..#......................................#..\n..#.....................#................#..\n..#.........o.o....#....#.........o.o....#..\n..#.@......#####...#....#........#####...#..\n..#####............#....#####............#..\n......#++++++++++++#........#..........M.#..\n=..=.=##############=..=..=.##############=.\n++++++++++++++++++++++++++++++++++++++++++++","\n.....................................................................................################.................................................v\n......................................................................................###.v.....v......................................................\n........................................................................................v..............................................................\n.......................................................................................................................................................\n#...............................................................................................................oo....................................o\n###..................................o........................................................................................o..o....................#\n##..............................o....#.....o......................................................=.....o.o.o.........................o....o.........##\n##..............................#....#.....#............................................................#####.........ooooooo.........##...##........##\n##..............................#++++++++++#........................................o..o..o.........o................########....##..................##\n##.............................#############................................o.......########.......##...............................................###\n##.............................................................oo.........#####.....................................................................###\n##@...............######......................................####.....................|......oooo.................................................####\n###............o........................=...................................................#..#...............=.................................######\n#################+++++++#####################################################################+++++#####################################################\n#######################################################################################################################################################\n"],function(){function t(t,e){this.dom=i("div",{class:"game"},function(t){return i.apply(void 0,j(["table",{class:"background",style:"width: "+20*t.width+"px"}],t.rows.map((function(t){return i.apply(void 0,j(["tr",{style:"height: 20px"}],t.map((function(t){return i("td",{class:t})}))))}))))}(e)),this.actorLayer=null,t.appendChild(this.dom)}return t.prototype.clear=function(){this.dom.remove()},t.prototype.syncState=function(t){var e,n;null===(e=this.actorLayer)||void 0===e||e.remove(),this.actorLayer=(n=t.actors,i.apply(void 0,j(["div",{}],n.map((function(t){var e=i("div",{class:"actor "+t.type});return e.style.width=20*t.size.x+"px",e.style.height=20*t.size.y+"px",e.style.left=20*t.pos.x+"px",e.style.top=20*t.pos.y+"px",e}))))),this.dom.appendChild(this.actorLayer),this.dom.className="game "+t.status,this.scrollPlayerIntoView(t)},t.prototype.scrollPlayerIntoView=function(t){var e=this.dom.clientWidth,n=this.dom.clientHeight,r=e/3,o=this.dom.scrollLeft,i=o+e,s=this.dom.scrollTop,u=s+n,l=t.player,a=l.pos.plus(l.size.times(.5)).times(20);a.x<o+r?this.dom.scrollLeft=a.x-r:a.x>i-r&&(this.dom.scrollLeft=a.x+r-e),a.y<s+r?this.dom.scrollTop=a.y-r:a.x>u-r&&(this.dom.scrollTop=a.y+r-n)},t}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xldmVscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVmVjLnRzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9TdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYWN0b3JzL0NvaW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FjdG9ycy9MYXZhLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25zdHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FjdG9ycy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FjdG9ycy9Nb25zdGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9MZXZlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcnVuRnVuY3Rpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy9MaXN0ZW5lci50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheXMvRE9NRGlzcGxheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhd0Z1bmN0aW9ucy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIngiLCJ5IiwidGhpcyIsInBsdXMiLCJvdGhlciIsIlZlYyIsInRpbWVzIiwiZmFjdG9yIiwiZWx0IiwiYXR0cnMiLCJkb20iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJrZXlzIiwiYXR0ciIsInNldEF0dHJpYnV0ZSIsImNoaWxkcmVuIiwiY2hpbGQiLCJhcHBlbmRDaGlsZCIsImxldmVsIiwiYWN0b3JzIiwic3RhdHVzIiwic3RhcnQiLCJTdGF0ZSIsInN0YXJ0QWN0b3JzIiwiZmluZCIsImEiLCJ0eXBlIiwidXBkYXRlIiwidGltZSIsIm1hcCIsImFjdG9yIiwibmV3U3RhdGUiLCJhY3RvcjEiLCJhY3RvcjIiLCJwbGF5ZXIiLCJ0b3VjaGVzIiwicG9zIiwic2l6ZSIsImNvbGxpZGUiLCJiYXNlUG9zIiwid29iYmxlIiwiQ29pbiIsIk1hdGgiLCJyYW5kb20iLCJQSSIsInN0YXRlIiwiZmlsdHJlZCIsImZpbHRlciIsInNvbWUiLCJ3b2JibGVTcGVlZCIsIndvYmJsZVBvcyIsInNpbiIsIndvYmJsZURpc3QiLCJzcGVlZCIsInJlc2V0IiwiY2giLCJMYXZhIiwibmV3UG9zIiwibGV2ZWxDaGFycyIsIlBsYXllciIsInhTcGVlZCIsIkFycm93TGVmdCIsInBsYXllclhTcGVlZCIsIkFycm93UmlnaHQiLCJtb3ZlZFgiLCJ5U3BlZWQiLCJncmF2aXR5IiwibW92ZWRZIiwiQXJyb3dVcCIsImp1bXBTcGVlZCIsIk1vbnN0ZXIiLCJtb25zdGVyU3BlZWQiLCJmaWx0ZXJlZCIsInBsYW4iLCJyb3dzIiwidHJpbSIsInNwbGl0IiwiaGVpZ2h0IiwibGVuZ3RoIiwid2lkdGgiLCJyb3ciLCJwdXNoIiwieFN0YXJ0IiwiZmxvb3IiLCJ4RW5kIiwiY2VpbCIsInlTdGFydCIsInlFbmQiLCJydW5BbmltYXRpb24iLCJmcmFtZUZ1bmMiLCJsYXN0VGltZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImZyYW1lIiwidGltZVN0ZXAiLCJtaW4iLCJydW5MZXZlbCIsIkRpc3BsYXkiLCJkaXNwbGF5IiwiYm9keSIsImVuZGluZyIsInJ1bm5pbmciLCJhcnJvd0tleXMiLCJkb3duIiwidHJhY2siLCJldmVudCIsImluY2x1ZGVzIiwicHJldmVudERlZmF1bHQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwidW5yZWdpc3RlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0cmFja0tleXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImVzY0hhbmRsZXIiLCJzeW5jU3RhdGUiLCJjbGVhciIsInBsYW5zIiwibGl2ZXMiLCJjb25zb2xlIiwibG9nIiwicnVuR2FtZSIsInBhcmVudCIsImNsYXNzIiwic3R5bGUiLCJkcmF3R3JpZCIsImFjdG9yTGF5ZXIiLCJyZW1vdmUiLCJyZWN0IiwibGVmdCIsInRvcCIsImNsYXNzTmFtZSIsInNjcm9sbFBsYXllckludG9WaWV3IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJtYXJnaW4iLCJzY3JvbGxMZWZ0IiwicmlnaHQiLCJzY3JvbGxUb3AiLCJib3R0b20iLCJjZW50ZXIiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVB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bnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNvbnN0IGxldmVsMSA9IGBcclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jLi5cclxuLi4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uIy4uLi4uLi4uLi4uLi4uLi4jLi5cclxuLi4jLi4uLi4uLi4uby5vLi4uLiMuLi4uIy4uLi4uLi4uLm8uby4uLi4jLi5cclxuLi4jLkAuLi4uLi4jIyMjIy4uLiMuLi4uIy4uLi4uLi4uIyMjIyMuLi4jLi5cclxuLi4jIyMjIy4uLi4uLi4uLi4uLiMuLi4uIyMjIyMuLi4uLi4uLi4uLi4jLi5cclxuLi4uLi4uIysrKysrKysrKysrKyMuLi4uLi4uLiMuLi4uLi4uLi4uTS4jLi5cclxuPS4uPS49IyMjIyMjIyMjIyMjIyM9Li49Li49LiMjIyMjIyMjIyMjIyMjPS5cclxuKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKytgXHJcblxyXG5leHBvcnQgY29uc3QgbGV2ZWwyID0gYFxyXG4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjIyMjIyMjIyMjIyMjIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi52XHJcbi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjLnYuLi4uLnYuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLnYuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxyXG4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXHJcbiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5vby4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm9cclxuIyMjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uby4uby4uLi4uLi4uLi4uLi4uLi4uLi4uI1xyXG4jIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm8uLi4uIy4uLi4uby4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLj0uLi4uLm8uby5vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm8uLi4uby4uLi4uLi4uLiMjXHJcbiMjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIy4uLi4jLi4uLi4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjIyMuLi4uLi4uLi5vb29vb29vLi4uLi4uLi4uIyMuLi4jIy4uLi4uLi4uIyNcclxuIyMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jKysrKysrKysrKyMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uby4uby4uby4uLi4uLi4uLm8uLi4uLi4uLi4uLi4uLi4uIyMjIyMjIyMuLi4uIyMuLi4uLi4uLi4uLi4uLi4uLi4jI1xyXG4jIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjIyMjIyMjIyMjIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uby4uLi4uLi4jIyMjIyMjIy4uLi4uLi4jIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjXHJcbiMjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm9vLi4uLi4uLi4uIyMjIyMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jIyNcclxuIyNALi4uLi4uLi4uLi4uLi4uIyMjIyMjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jIyMjLi4uLi4uLi4uLi4uLi4uLi4uLi4ufC4uLi4uLm9vb28uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjI1xyXG4jIyMuLi4uLi4uLi4uLi5vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uPS4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLiMuLiMuLi4uLi4uLi4uLi4uLi49Li4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjIyMjXHJcbiMjIyMjIyMjIyMjIyMjIyMjKysrKysrKyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIysrKysrIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5gIiwiXHJcbmV4cG9ydCBjbGFzcyBWZWMge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICB9XHJcblxyXG4gIHBsdXMob3RoZXI6IFZlYykge1xyXG4gICAgcmV0dXJuIG5ldyBWZWModGhpcy54ICsgb3RoZXIueCwgdGhpcy55ICsgb3RoZXIueSlcclxuICB9XHJcblxyXG4gIHRpbWVzKGZhY3RvcjogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gbmV3IFZlYyh0aGlzLnggKiBmYWN0b3IsIHRoaXMueSAqIGZhY3RvcilcclxuICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IElBY3RvciB9IGZyb20gJy4vdHMvaW5kZXgnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb3ZlcmxhcChhY3RvcjE6IElBY3RvciwgYWN0b3IyOiBJQWN0b3IpIHtcclxuICByZXR1cm4gYWN0b3IxLnBvcy54ICsgYWN0b3IxLnNpemUueCA+IGFjdG9yMi5wb3MueCAmJlxyXG4gICAgYWN0b3IxLnBvcy54IDwgYWN0b3IyLnBvcy54ICsgYWN0b3IyLnNpemUueCAmJlxyXG4gICAgYWN0b3IxLnBvcy55ICsgYWN0b3IxLnNpemUueSA+IGFjdG9yMi5wb3MueSAmJlxyXG4gICAgYWN0b3IxLnBvcy55IDwgYWN0b3IyLnBvcy55ICsgYWN0b3IyLnNpemUueTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVsdChuYW1lOiBzdHJpbmcsIGF0dHJzOiBhbnksIC4uLmNoaWxkcmVuOiBIVE1MRWxlbWVudFtdKTogSFRNTEVsZW1lbnQge1xyXG4gIGxldCBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xyXG5cclxuICBmb3IgKGxldCBhdHRyIG9mIE9iamVjdC5rZXlzKGF0dHJzKSkge1xyXG4gICAgZG9tLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyc1thdHRyXSk7XHJcbiAgfVxyXG5cclxuICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbikge1xyXG4gICAgZG9tLmFwcGVuZENoaWxkKGNoaWxkKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBkb207XHJcbn0iLCJpbXBvcnQgeyBMZXZlbCB9IGZyb20gJy4vTGV2ZWwnXHJcbmltcG9ydCB7IG92ZXJsYXAgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRlIHtcclxuICBsZXZlbDogTGV2ZWw7XHJcbiAgYWN0b3JzOiBhbnk7XHJcbiAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgc3RhcnQ6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IobGV2ZWw6IExldmVsLCBhY3RvcnM6IGFueSwgc3RhdHVzOiBzdHJpbmcpIHtcclxuICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcclxuICAgIHRoaXMuYWN0b3JzID0gYWN0b3JzO1xyXG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc3RhcnQobGV2ZWw6IExldmVsKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0YXRlKGxldmVsLCBsZXZlbC5zdGFydEFjdG9ycywgJ3BsYXlpbmcnKTtcclxuICB9XHJcblxyXG4gIGdldCBwbGF5ZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5hY3RvcnMuZmluZChhID0+IGEudHlwZSA9PT0gJ3BsYXllcicpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKHRpbWU6IG51bWJlciwga2V5czogYW55KSB7XHJcbiAgICBsZXQgYWN0b3JzID0gdGhpcy5hY3RvcnNcclxuICAgICAgLm1hcChhY3RvciA9PiBhY3Rvci51cGRhdGUodGltZSwgdGhpcywga2V5cykpO1xyXG4gICAgbGV0IG5ld1N0YXRlID0gbmV3IFN0YXRlKHRoaXMubGV2ZWwsIGFjdG9ycywgdGhpcy5zdGF0dXMpO1xyXG5cclxuICAgIGlmIChuZXdTdGF0ZS5zdGF0dXMgIT09ICdwbGF5aW5nJykgcmV0dXJuIG5ld1N0YXRlO1xyXG5cclxuICAgIGxldCBwbGF5ZXIgPSBuZXdTdGF0ZS5wbGF5ZXI7XHJcbiAgICBpZiAodGhpcy5sZXZlbC50b3VjaGVzKHBsYXllci5wb3MsIHBsYXllci5zaXplLCAnbGF2YScpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgU3RhdGUodGhpcy5sZXZlbCwgYWN0b3JzLCAnbG9zdCcpXHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgYWN0b3Igb2YgYWN0b3JzKSB7XHJcbiAgICAgIGlmIChhY3RvciAhPT0gcGxheWVyICYmIG92ZXJsYXAoYWN0b3IsIHBsYXllcikpIHtcclxuICAgICAgICBuZXdTdGF0ZSA9IGFjdG9yLmNvbGxpZGUobmV3U3RhdGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3U3RhdGU7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgd29iYmxlRGlzdCwgd29iYmxlU3BlZWQgfSBmcm9tICcuLy4uL2NvbnN0cyc7XHJcbmltcG9ydCB7IFZlYyB9IGZyb20gJy4uL1ZlYydcclxuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9TdGF0ZSdcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2luIHtcclxuICBwb3M6IFZlYztcclxuICBiYXNlUG9zOiBWZWM7XHJcbiAgd29iYmxlOiBudW1iZXI7XHJcbiAgc2l6ZTogVmVjO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwb3M6IFZlYywgYmFzZVBvczogVmVjLCB3b2JibGU6IG51bWJlcikge1xyXG4gICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICB0aGlzLmJhc2VQb3MgPSBiYXNlUG9zO1xyXG4gICAgdGhpcy53b2JibGUgPSB3b2JibGU7XHJcbiAgICB0aGlzLnNpemUgPSBuZXcgVmVjKDAuNiwgMC42KTtcclxuICB9XHJcblxyXG4gIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuICdjb2luJztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGUocG9zOiBWZWMpIHtcclxuICAgIGxldCBiYXNlUG9zID0gcG9zLnBsdXMobmV3IFZlYygwLjIsIDAuMSkpO1xyXG4gICAgcmV0dXJuIG5ldyBDb2luKGJhc2VQb3MsIGJhc2VQb3MsIE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMilcclxuICB9XHJcblxyXG4gIGNvbGxpZGUoc3RhdGU6IFN0YXRlKTogU3RhdGUge1xyXG4gICAgbGV0IGZpbHRyZWQgPSBzdGF0ZS5hY3RvcnMuZmlsdGVyKGEgPT4gYSAhPT0gdGhpcyk7XHJcbiAgICBsZXQgc3RhdHVzID0gc3RhdGUuc3RhdHVzO1xyXG5cclxuICAgIGlmICghZmlsdHJlZC5zb21lKGEgPT4gYS50eXBlID09PSAnY29pbicpKSB7XHJcbiAgICAgIHN0YXR1cyA9ICd3b24nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBTdGF0ZShzdGF0ZS5sZXZlbCwgZmlsdHJlZCwgc3RhdHVzKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSh0aW1lOiBudW1iZXIpIHtcclxuICAgIGxldCB3b2JibGUgPSB0aGlzLndvYmJsZSArIHRpbWUgKiB3b2JibGVTcGVlZDtcclxuICAgIGxldCB3b2JibGVQb3MgPSBNYXRoLnNpbih3b2JibGUpICogd29iYmxlRGlzdDtcclxuXHJcbiAgICByZXR1cm4gbmV3IENvaW4odGhpcy5iYXNlUG9zLnBsdXMobmV3IFZlYygwLCB3b2JibGVQb3MpKSwgdGhpcy5iYXNlUG9zLCB3b2JibGUpO1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgVmVjIH0gZnJvbSAnLi4vVmVjJ1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL1N0YXRlJ1xyXG5pbXBvcnQgeyBJTGF2YUNoIH0gZnJvbSAnLi4vdHMnXHJcblxyXG5leHBvcnQgY2xhc3MgTGF2YSB7XHJcbiAgcG9zOiBWZWM7XHJcbiAgc3BlZWQ6IFZlYztcclxuICByZXNldD86IFZlYztcclxuICBzaXplOiBWZWM7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvczogVmVjLCBzcGVlZDogVmVjLCByZXNldD86IFZlYykge1xyXG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICB0aGlzLnJlc2V0ID0gcmVzZXQ7XHJcbiAgICB0aGlzLnNpemUgPSBuZXcgVmVjKDEsIDEpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gJ2xhdmEnO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZShwb3M6IFZlYywgY2g6IElMYXZhQ2gpIHtcclxuICAgIHN3aXRjaCAoY2gpIHtcclxuICAgICAgY2FzZSAnPSc6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMYXZhKHBvcywgbmV3IFZlYygyLCAwKSk7XHJcbiAgICAgIGNhc2UgJ3wnOlxyXG4gICAgICAgIHJldHVybiBuZXcgTGF2YShwb3MsIG5ldyBWZWMoMCwgMikpO1xyXG4gICAgICBjYXNlICd2JzpcclxuICAgICAgICByZXR1cm4gbmV3IExhdmEocG9zLCBuZXcgVmVjKDAsIDMpLCBwb3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29sbGlkZShzdGF0ZTogU3RhdGUpOiBTdGF0ZSB7XHJcbiAgICByZXR1cm4gbmV3IFN0YXRlKHN0YXRlLmxldmVsLCBzdGF0ZS5hY3RvcnMsICdsb3N0Jyk7XHJcbiAgfTtcclxuXHJcbiAgdXBkYXRlKHRpbWU6IG51bWJlciwgc3RhdGU6IFN0YXRlKTogTGF2YSB7XHJcbiAgICBsZXQgbmV3UG9zID0gdGhpcy5wb3MucGx1cyh0aGlzLnNwZWVkLnRpbWVzKHRpbWUpKTtcclxuICAgIGlmICghc3RhdGUubGV2ZWwudG91Y2hlcyhuZXdQb3MsIHRoaXMuc2l6ZSwgJ3dhbGwnKSkge1xyXG4gICAgICByZXR1cm4gbmV3IExhdmEobmV3UG9zLCB0aGlzLnNwZWVkLCB0aGlzLnJlc2V0KTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMucmVzZXQpIHtcclxuICAgICAgcmV0dXJuIG5ldyBMYXZhKHRoaXMucmVzZXQsIHRoaXMuc3BlZWQsIHRoaXMucmVzZXQpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBuZXcgTGF2YSh0aGlzLnBvcywgdGhpcy5zcGVlZC50aW1lcygtMSkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb2luIH0gZnJvbSAnLi9hY3RvcnMvQ29pbidcclxuaW1wb3J0IHsgTGF2YSB9IGZyb20gJy4vYWN0b3JzL0xhdmEnXHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vYWN0b3JzL1BsYXllcidcclxuaW1wb3J0IHsgTW9uc3RlciB9IGZyb20gJy4vYWN0b3JzL01vbnN0ZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IGxldmVsQ2hhcnM6IHtcclxuICAnLic6ICdlbXB0eScsXHJcbiAgJyMnOiAnd2FsbCcsXHJcbiAgJysnOiAnbGF2YScsXHJcbiAgJ0AnOiB0eXBlb2YgUGxheWVyLFxyXG4gICdvJzogdHlwZW9mIENvaW4sXHJcbiAgJz0nOiB0eXBlb2YgTGF2YSxcclxuICAndic6IHR5cGVvZiBMYXZhLFxyXG4gICd8JzogdHlwZW9mIExhdmEsXHJcbiAgJ00nOiB0eXBlb2YgTW9uc3RlcixcclxufSA9IHtcclxuICAnLic6ICdlbXB0eScsXHJcbiAgJyMnOiAnd2FsbCcsXHJcbiAgJysnOiAnbGF2YScsXHJcbiAgJ0AnOiBQbGF5ZXIsXHJcbiAgJ28nOiBDb2luLFxyXG4gICc9JzogTGF2YSxcclxuICAndic6IExhdmEsXHJcbiAgJ3wnOiBMYXZhLFxyXG4gICdNJzogTW9uc3RlcixcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBzY2FsZSA9IDIwO1xyXG5cclxuZXhwb3J0IGNvbnN0IHdvYmJsZVNwZWVkID0gODtcclxuXHJcbmV4cG9ydCBjb25zdCB3b2JibGVEaXN0ID0gMC4wNztcclxuXHJcbmV4cG9ydCBjb25zdCBwbGF5ZXJYU3BlZWQgPSA3O1xyXG5cclxuZXhwb3J0IGNvbnN0IG1vbnN0ZXJTcGVlZCA9IDQ7XHJcblxyXG5leHBvcnQgY29uc3QgZ3Jhdml0eSA9IDMwO1xyXG5cclxuZXhwb3J0IGNvbnN0IGp1bXBTcGVlZCA9IDE3OyIsImltcG9ydCB7IGdyYXZpdHksIGp1bXBTcGVlZCB9IGZyb20gJy4vLi4vY29uc3RzJztcclxuaW1wb3J0IHsgVmVjIH0gZnJvbSAnLi4vVmVjJ1xyXG5pbXBvcnQgeyBwbGF5ZXJYU3BlZWQgfSBmcm9tICcuLi9jb25zdHMnO1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL1N0YXRlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xyXG4gIHBvczogVmVjO1xyXG4gIHNwZWVkOiBWZWM7XHJcbiAgc2l6ZTogVmVjO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwb3M6IFZlYywgc3BlZWQ6IFZlYykge1xyXG4gICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XHJcbiAgICB0aGlzLnNpemUgPSBuZXcgVmVjKDAuOCwgMS41KTtcclxuICB9XHJcblxyXG4gIGdldCB0eXBlKCkgeyByZXR1cm4gJ3BsYXllcicgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlKHBvczogVmVjKSB7XHJcbiAgICByZXR1cm4gbmV3IFBsYXllcihwb3MucGx1cyhuZXcgVmVjKDAsIC0wLjUpKSxcclxuICAgICAgbmV3IFZlYygwLCAwKSlcclxuICB9XHJcblxyXG4gIHVwZGF0ZSh0aW1lOiBudW1iZXIsIHN0YXRlOiBTdGF0ZSwga2V5czogYW55KTogUGxheWVyIHtcclxuICAgIGxldCB4U3BlZWQgPSAwO1xyXG4gICAgaWYgKGtleXMuQXJyb3dMZWZ0KSB7XHJcbiAgICAgIHhTcGVlZCAtPSBwbGF5ZXJYU3BlZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGtleXMuQXJyb3dSaWdodCkge1xyXG4gICAgICB4U3BlZWQgKz0gcGxheWVyWFNwZWVkO1xyXG4gICAgfVxyXG4gICAgbGV0IHBvcyA9IHRoaXMucG9zO1xyXG4gICAgbGV0IG1vdmVkWCA9IHBvcy5wbHVzKG5ldyBWZWMoeFNwZWVkICogdGltZSwgMCkpO1xyXG5cclxuICAgIGlmICghc3RhdGUubGV2ZWwudG91Y2hlcyhtb3ZlZFgsIHRoaXMuc2l6ZSwgJ3dhbGwnKSkge1xyXG4gICAgICBwb3MgPSBtb3ZlZFg7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHlTcGVlZCA9IHRoaXMuc3BlZWQueSArIHRpbWUgKiBncmF2aXR5O1xyXG4gICAgbGV0IG1vdmVkWSA9IHBvcy5wbHVzKG5ldyBWZWMoMCwgeVNwZWVkICogdGltZSkpO1xyXG5cclxuICAgIGlmICghc3RhdGUubGV2ZWwudG91Y2hlcyhtb3ZlZFksIHRoaXMuc2l6ZSwgJ3dhbGwnKSkge1xyXG4gICAgICBwb3MgPSBtb3ZlZFk7XHJcblxyXG4gICAgfSBlbHNlIGlmIChrZXlzLkFycm93VXAgJiYgeVNwZWVkID4gMCkge1xyXG4gICAgICB5U3BlZWQgPSAtanVtcFNwZWVkO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHlTcGVlZCA9IDA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IFBsYXllcihwb3MsIG5ldyBWZWMoeFNwZWVkLCB5U3BlZWQpKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBWZWMgfSBmcm9tICcuLy4uL1ZlYyc7XHJcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vU3RhdGUnO1xyXG5pbXBvcnQgeyBtb25zdGVyU3BlZWQgfSBmcm9tICcuLi9jb25zdHMnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNb25zdGVyIHtcclxuICBwb3M6IFZlYztcclxuICBzaXplOiBWZWM7XHJcbiAgY29uc3RydWN0b3IocG9zOiBWZWMpIHtcclxuICAgIHRoaXMucG9zID0gcG9zO1xyXG4gICAgdGhpcy5zaXplID0gbmV3IFZlYygxLjIsIDIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gJ21vbnN0ZXInO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZShwb3M6IFZlYyk6IE1vbnN0ZXIge1xyXG4gICAgcmV0dXJuIG5ldyBNb25zdGVyKHBvcy5wbHVzKG5ldyBWZWMoMCwgLTEpKSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUodGltZTogbnVtYmVyLCBzdGF0ZTogU3RhdGUpOiBNb25zdGVyIHtcclxuICAgIGxldCBwbGF5ZXIgPSBzdGF0ZS5wbGF5ZXI7XHJcbiAgICBsZXQgc3BlZWQgPSAocGxheWVyLnBvcy54IDwgdGhpcy5wb3MueCA/IC0xIDogMSkgKiB0aW1lICogbW9uc3RlclNwZWVkO1xyXG4gICAgbGV0IG5ld1BvcyA9IG5ldyBWZWModGhpcy5wb3MueCArIHNwZWVkLCB0aGlzLnBvcy55KTtcclxuXHJcbiAgICBpZiAoc3RhdGUubGV2ZWwudG91Y2hlcyhuZXdQb3MsIHRoaXMuc2l6ZSwgJ3dhbGwnKSkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbmV3IE1vbnN0ZXIobmV3UG9zKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29sbGlkZShzdGF0ZTogU3RhdGUpIHtcclxuICAgIGxldCBwbGF5ZXIgPSBzdGF0ZS5wbGF5ZXI7XHJcbiAgICBpZiAocGxheWVyLnBvcy55ICsgcGxheWVyLnNpemUueSA8IHRoaXMucG9zLnkgKyAwLjUpIHtcclxuICAgICAgbGV0IGZpbHRlcmVkID0gc3RhdGUuYWN0b3JzLmZpbHRlcihhID0+IGEgIT0gdGhpcyk7XHJcbiAgICAgIHJldHVybiBuZXcgU3RhdGUoc3RhdGUubGV2ZWwsIGZpbHRlcmVkLCBzdGF0ZS5zdGF0dXMpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBuZXcgU3RhdGUoc3RhdGUubGV2ZWwsIHN0YXRlLmFjdG9ycywgJ2xvc3QnKVxyXG4gICAgfVxyXG4gIH1cclxufSIsImltcG9ydCB7IFZlYyB9IGZyb20gJy4vVmVjJ1xyXG5pbXBvcnQgeyBsZXZlbENoYXJzIH0gZnJvbSAnLi9jb25zdHMnXHJcbmltcG9ydCB7IFBMQywgSUFjdG9yIH0gZnJvbSAnLi90cydcclxuXHJcbmV4cG9ydCBjbGFzcyBMZXZlbCB7XHJcbiAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBzdGFydEFjdG9yczogUExDW107XHJcbiAgcm93czogc3RyaW5nW11bXTtcclxuXHJcbiAgY29uc3RydWN0b3IocGxhbjogc3RyaW5nKSB7XHJcbiAgICBsZXQgcm93cyA9IHBsYW4udHJpbSgpLnNwbGl0KCdcXG4nKS5tYXAobCA9PiBbLi4ubF0pO1xyXG4gICAgdGhpcy5oZWlnaHQgPSByb3dzLmxlbmd0aDtcclxuICAgIHRoaXMud2lkdGggPSByb3dzWzBdLmxlbmd0aDtcclxuICAgIHRoaXMuc3RhcnRBY3RvcnMgPSBbXTtcclxuXHJcbiAgICB0aGlzLnJvd3MgPSByb3dzLm1hcCgocm93OiBzdHJpbmdbXSwgeTogbnVtYmVyKSA9PiB7XHJcbiAgICAgIHJldHVybiByb3cubWFwKChjaDogc3RyaW5nLCB4OiBudW1iZXIpID0+IHtcclxuICAgICAgICBsZXQgdHlwZTogYW55ID0gbGV2ZWxDaGFyc1tjaF07XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09ICdzdHJpbmcnKSB7IHJldHVybiB0eXBlOyB9XHJcbiAgICAgICAgdGhpcy5zdGFydEFjdG9ycy5wdXNoKFxyXG4gICAgICAgICAgKHR5cGUgYXMgSUFjdG9yKS5jcmVhdGUobmV3IFZlYyh4LCB5KSwgY2gpXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gJ2VtcHR5JztcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdG91Y2hlcyhwb3M6IFZlYywgc2l6ZTogVmVjLCB0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGxldCB4U3RhcnQgPSBNYXRoLmZsb29yKHBvcy54KTtcclxuICAgIGxldCB4RW5kID0gTWF0aC5jZWlsKHBvcy54ICsgc2l6ZS54KTtcclxuICAgIGxldCB5U3RhcnQgPSBNYXRoLmZsb29yKHBvcy55KTtcclxuICAgIGxldCB5RW5kID0gTWF0aC5jZWlsKHBvcy55ICsgc2l6ZS55KTtcclxuXHJcbiAgICBmb3IgKGxldCB5ID0geVN0YXJ0OyB5IDwgeUVuZDsgeSsrKSB7XHJcbiAgICAgIGZvciAobGV0IHggPSB4U3RhcnQ7IHggPCB4RW5kOyB4KyspIHtcclxuICAgICAgICBsZXQgaXNPdXRzaWRlID0geCA8IDAgfHwgeCA+PSB0aGlzLndpZHRoIHx8IHkgPCAwIHx8IHkgPj0gdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IGhlcmUgPSBpc091dHNpZGUgPyAnd2FsbCcgOiB0aGlzLnJvd3NbeV1beF07XHJcbiAgICAgICAgaWYgKGhlcmUgPT0gdHlwZSkgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBMZXZlbCB9IGZyb20gXCIuL0xldmVsXCI7XHJcbmltcG9ydCB7IERPTURpc3BsYXkgfSBmcm9tIFwiLi9EaXNwbGF5cy9ET01EaXNwbGF5XCI7XHJcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4vU3RhdGVcIjtcclxuaW1wb3J0IHsgdHJhY2tLZXlzIH0gZnJvbSAnLi9MaXN0ZW5lcidcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcnVuQW5pbWF0aW9uKGZyYW1lRnVuYzogYW55KSB7XHJcbiAgbGV0IGxhc3RUaW1lID0gbnVsbDtcclxuICBmdW5jdGlvbiBmcmFtZSh0aW1lOiBudW1iZXIpIHtcclxuICAgIGlmIChsYXN0VGltZSAhPT0gbnVsbCkge1xyXG4gICAgICBsZXQgdGltZVN0ZXAgPSBNYXRoLm1pbih0aW1lIC0gbGFzdFRpbWUsIDEwMCkgLyAxMDAwO1xyXG4gICAgICBpZiAoZnJhbWVGdW5jKHRpbWVTdGVwKSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgIH1cclxuICAgIGxhc3RUaW1lID0gdGltZTtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7XHJcbiAgfVxyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcnVuTGV2ZWwobGV2ZWw6IExldmVsLCBEaXNwbGF5OiB0eXBlb2YgRE9NRGlzcGxheSkge1xyXG4gIGxldCBkaXNwbGF5ID0gbmV3IERpc3BsYXkoZG9jdW1lbnQuYm9keSwgbGV2ZWwpO1xyXG4gIGxldCBzdGF0ZSA9IFN0YXRlLnN0YXJ0KGxldmVsKTtcclxuICBsZXQgZW5kaW5nID0gMTtcclxuICBsZXQgcnVubmluZzogJ3llcycgfCAnbm8nIHwgJ3BhdXNpbmcnID0gJ3llcydcclxuICBjb25zdCBhcnJvd0tleXMgPSB0cmFja0tleXMoWydBcnJvd0xlZnQnLCAnQXJyb3dSaWdodCcsICdBcnJvd1VwJ10pO1xyXG5cclxuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICBmdW5jdGlvbiBlc2NIYW5kbGVyKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcblxyXG4gICAgICBpZiAoZXZlbnQua2V5ICE9PSAnRXNjYXBlJykgcmV0dXJuO1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgaWYgKHJ1bm5pbmcgPT09ICdubycpIHtcclxuICAgICAgICBydW5uaW5nID0gJ3llcyc7XHJcbiAgICAgICAgcnVuQW5pbWF0aW9uKGZyYW1lKTtcclxuXHJcbiAgICAgIH0gZWxzZSBpZiAocnVubmluZyA9ICd5ZXMnKSB7XHJcbiAgICAgICAgcnVubmluZyA9ICdwYXVzaW5nJztcclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcnVubmluZyA9ICd5ZXMnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXNjSGFuZGxlcilcclxuXHJcbiAgICBmdW5jdGlvbiBmcmFtZSh0aW1lOiBudW1iZXIpIHtcclxuXHJcbiAgICAgIGlmIChydW5uaW5nID09PSAncGF1c2luZycpIHtcclxuICAgICAgICBydW5uaW5nID0gJ25vJztcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICB9XHJcbiAgICAgIHN0YXRlID0gc3RhdGUudXBkYXRlKHRpbWUsIGFycm93S2V5cyk7XHJcbiAgICAgIGRpc3BsYXkuc3luY1N0YXRlKHN0YXRlKTtcclxuXHJcbiAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09ICdwbGF5aW5nJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgfSBlbHNlIGlmIChlbmRpbmcgPiAwKSB7XHJcbiAgICAgICAgZW5kaW5nIC09IHRpbWU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpc3BsYXkuY2xlYXIoKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVzY0hhbmRsZXIpO1xyXG4gICAgICAgIGFycm93S2V5cy51bnJlZ2lzdGVyKCk7XHJcbiAgICAgICAgcmVzb2x2ZShzdGF0ZS5zdGF0dXMpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBydW5BbmltYXRpb24oZnJhbWUpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuR2FtZShwbGFuczogc3RyaW5nW10sIERpc3BsYXk6IHR5cGVvZiBET01EaXNwbGF5KSB7XHJcbiAgbGV0IGxpdmVzID0gNTtcclxuICBmb3IgKGxldCBsZXZlbCA9IDA7IGxldmVsIDwgcGxhbnMubGVuZ3RoOykge1xyXG4gICAgbGV0IHN0YXR1cyA9IGF3YWl0IHJ1bkxldmVsKG5ldyBMZXZlbChwbGFuc1tsZXZlbF0pLCBEaXNwbGF5KTtcclxuICAgIGlmIChzdGF0dXMgPT09ICd3b24nKSBsZXZlbCsrO1xyXG4gICAgaWYgKHN0YXR1cyA9PT0gJ2xvc3QnKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGAkey0tbGl2ZXN9INC20LjQt9C90LXQuWApO1xyXG4gICAgICBpZiAobGl2ZXMgPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn0YLRiyDQv9GA0L7QuNCz0YDQsNC7Jyk7XHJcbiAgICAgICAgbGV2ZWwgPSAwO1xyXG4gICAgICAgIGxpdmVzID0gNTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBjb25zb2xlLmxvZygn0YLRiyDQv9C+0LHQtdC00LjQuyEnKTtcclxufVxyXG4iLCJ0eXBlIElEb3duID0ge1xyXG4gIFtrZXkgaW4gJ0Fycm93TGVmdCcgfCAnQXJyb3dSaWdodCcgfCAnQXJyb3dVcCddOiBib29sZWFuO1xyXG59ICYge1xyXG4gIHVucmVnaXN0ZXIoKTogdm9pZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFja0tleXMoa2V5czogc3RyaW5nW10pIHtcclxuICBsZXQgZG93bjogSURvd24gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gIGZ1bmN0aW9uIHRyYWNrKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICBpZiAoa2V5cy5pbmNsdWRlcyhldmVudC5rZXkpKSB7XHJcbiAgICAgIGRvd25bZXZlbnQua2V5XSA9IGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJztcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuICB9XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0cmFjayk7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdHJhY2spO1xyXG5cclxuICBkb3duLnVucmVnaXN0ZXIgPSAoKSA9PiB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYWNrKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRyYWNrKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBkb3duO1xyXG59IiwiaW1wb3J0IHsgbGV2ZWwxLCBsZXZlbDIgfSBmcm9tICcuL3NyYy9sZXZlbHMnO1xyXG5pbXBvcnQgeyBydW5HYW1lIH0gZnJvbSBcIi4vc3JjL3J1bkZ1bmN0aW9uc1wiXHJcbmltcG9ydCB7IERPTURpc3BsYXkgfSBmcm9tICcuL3NyYy9EaXNwbGF5cy9ET01EaXNwbGF5JztcclxuXHJcbnJ1bkdhbWUoW2xldmVsMSwgbGV2ZWwyXSwgRE9NRGlzcGxheSkiLCJpbXBvcnQgeyBlbHQgfSBmcm9tIFwiLi4vaGVscGVyc1wiXHJcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uL1N0YXRlXCI7XHJcbmltcG9ydCB7IGRyYXdBY3RvcnMsIGRyYXdHcmlkIH0gZnJvbSBcIi4uL2RyYXdGdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgTGV2ZWwgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcclxuaW1wb3J0IHsgc2NhbGUgfSBmcm9tIFwiLi4vY29uc3RzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRE9NRGlzcGxheSB7XHJcbiAgZG9tOiBIVE1MRWxlbWVudDtcclxuICBhY3RvckxheWVyOiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmVudDogSFRNTEVsZW1lbnQsIGxldmVsOiBMZXZlbCkge1xyXG4gICAgdGhpcy5kb20gPSBlbHQoJ2RpdicsIHsgY2xhc3M6ICdnYW1lJyB9LCBkcmF3R3JpZChsZXZlbCkpO1xyXG4gICAgdGhpcy5hY3RvckxheWVyID0gbnVsbDtcclxuICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmRvbSk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHsgdGhpcy5kb20ucmVtb3ZlKCk7IH1cclxuXHJcbiAgc3luY1N0YXRlKHN0YXRlOiBTdGF0ZSkge1xyXG4gICAgdGhpcy5hY3RvckxheWVyPy5yZW1vdmUoKVxyXG4gICAgdGhpcy5hY3RvckxheWVyID0gZHJhd0FjdG9ycyhzdGF0ZS5hY3RvcnMpO1xyXG4gICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQodGhpcy5hY3RvckxheWVyKTtcclxuICAgIHRoaXMuZG9tLmNsYXNzTmFtZSA9IGBnYW1lICR7c3RhdGUuc3RhdHVzfWA7XHJcbiAgICB0aGlzLnNjcm9sbFBsYXllckludG9WaWV3KHN0YXRlKTtcclxuICB9O1xyXG5cclxuICBzY3JvbGxQbGF5ZXJJbnRvVmlldyhzdGF0ZTogU3RhdGUpIHtcclxuICAgIGxldCB3aWR0aCA9IHRoaXMuZG9tLmNsaWVudFdpZHRoO1xyXG4gICAgbGV0IGhlaWdodCA9IHRoaXMuZG9tLmNsaWVudEhlaWdodDtcclxuICAgIGxldCBtYXJnaW4gPSB3aWR0aCAvIDM7XHJcblxyXG4gICAgbGV0IGxlZnQgPSB0aGlzLmRvbS5zY3JvbGxMZWZ0O1xyXG4gICAgbGV0IHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xyXG5cclxuICAgIGxldCB0b3AgPSB0aGlzLmRvbS5zY3JvbGxUb3A7XHJcbiAgICBsZXQgYm90dG9tID0gdG9wICsgaGVpZ2h0O1xyXG5cclxuICAgIGxldCBwbGF5ZXIgPSBzdGF0ZS5wbGF5ZXI7XHJcbiAgICBsZXQgY2VudGVyID0gcGxheWVyLnBvcy5wbHVzKHBsYXllci5zaXplLnRpbWVzKDAuNSkpXHJcbiAgICAgIC50aW1lcyhzY2FsZSk7XHJcblxyXG4gICAgaWYgKGNlbnRlci54IDwgbGVmdCArIG1hcmdpbikge1xyXG4gICAgICB0aGlzLmRvbS5zY3JvbGxMZWZ0ID0gY2VudGVyLnggLSBtYXJnaW47XHJcblxyXG4gICAgfSBlbHNlIGlmIChjZW50ZXIueCA+IHJpZ2h0IC0gbWFyZ2luKSB7XHJcbiAgICAgIHRoaXMuZG9tLnNjcm9sbExlZnQgPSBjZW50ZXIueCArIG1hcmdpbiAtIHdpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjZW50ZXIueSA8IHRvcCArIG1hcmdpbikge1xyXG4gICAgICB0aGlzLmRvbS5zY3JvbGxUb3AgPSBjZW50ZXIueSAtIG1hcmdpbjtcclxuXHJcbiAgICB9IGVsc2UgaWYgKGNlbnRlci54ID4gYm90dG9tIC0gbWFyZ2luKSB7XHJcbiAgICAgIHRoaXMuZG9tLnNjcm9sbFRvcCA9IGNlbnRlci55ICsgbWFyZ2luIC0gaGVpZ2h0O1xyXG4gICAgfVxyXG4gIH07XHJcbn0iLCJpbXBvcnQgeyBJQWN0b3IgfSBmcm9tICcuL3RzL2luZGV4JztcclxuaW1wb3J0IHsgZWx0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBMZXZlbCB9IGZyb20gXCIuL0xldmVsXCI7XHJcbmltcG9ydCB7IHNjYWxlIH0gZnJvbSBcIi4vY29uc3RzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0dyaWQobGV2ZWw6IExldmVsKSB7XHJcbiAgcmV0dXJuIGVsdCgndGFibGUnLCB7XHJcbiAgICBjbGFzczogJ2JhY2tncm91bmQnLFxyXG4gICAgc3R5bGU6IGB3aWR0aDogJHtsZXZlbC53aWR0aCAqIHNjYWxlfXB4YFxyXG4gIH0sIC4uLmxldmVsLnJvd3MubWFwKHJvdyA9PiBlbHQoJ3RyJywgeyBzdHlsZTogYGhlaWdodDogJHtzY2FsZX1weGAgfSxcclxuICAgIC4uLnJvdy5tYXAodHlwZSA9PiBlbHQoJ3RkJywgeyBjbGFzczogdHlwZSB9KSkpKSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdBY3RvcnMoYWN0b3JzOiBJQWN0b3JbXSkge1xyXG4gIHJldHVybiBlbHQoJ2RpdicsIHt9LCAuLi5hY3RvcnMubWFwKGFjdG9yID0+IHtcclxuICAgIGxldCByZWN0ID0gZWx0KCdkaXYnLCB7IGNsYXNzOiBgYWN0b3IgJHthY3Rvci50eXBlfWAgfSk7XHJcbiAgICByZWN0LnN0eWxlLndpZHRoID0gYCR7YWN0b3Iuc2l6ZS54ICogc2NhbGV9cHhgXHJcbiAgICByZWN0LnN0eWxlLmhlaWdodCA9IGAke2FjdG9yLnNpemUueSAqIHNjYWxlfXB4YFxyXG4gICAgcmVjdC5zdHlsZS5sZWZ0ID0gYCR7YWN0b3IucG9zLnggKiBzY2FsZX1weGBcclxuICAgIHJlY3Quc3R5bGUudG9wID0gYCR7YWN0b3IucG9zLnkgKiBzY2FsZX1weGBcclxuICAgIHJldHVybiByZWN0O1xyXG4gIH0pKTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9