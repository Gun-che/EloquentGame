!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.plus=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.times=function(e){return new t(this.x*e,this.y*e)},t}();var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(){function t(t,e,n){this.level=t,this.actors=e,this.status=n}return t.start=function(e){return new t(e,e.startActors,"playing")},Object.defineProperty(t.prototype,"player",{get:function(){return this.actors.find((function(t){return"player"===t.type}))},enumerable:!1,configurable:!0}),t.prototype.update=function(e,n){var r,i,s=this,a=this.actors.map((function(t){return t.update(e,s,n)})),l=new t(this.level,a,this.status);if("playing"!==l.status)return l;var u,c,p=l.player;if(this.level.touches(p.pos,p.size,"lava"))return new t(this.level,a,"lost");try{for(var h=o(a),f=h.next();!f.done;f=h.next()){var y=f.value;y!==p&&(c=p,(u=y).pos.x+u.size.x>c.pos.x&&u.pos.x<c.pos.x+c.size.x&&u.pos.y+u.size.y>c.pos.y&&u.pos.y<c.pos.y+c.size.y)&&(l=y.collide(l))}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return l},t}(),s=function(){function t(t,e,n){this.pos=t,this.basePos=e,this.wobble=n,this.size=new r(.6,.6)}return Object.defineProperty(t.prototype,"type",{get:function(){return"coin"},enumerable:!1,configurable:!0}),t.create=function(e){var n=e.plus(new r(.2,.1));return new t(n,n,Math.random()*Math.PI*2)},t.prototype.collide=function(t){var e=this,n=t.actors.filter((function(t){return t!==e})),r=t.status;return n.some((function(t){return"coin"===t.type}))||(r="won"),new i(t.level,n,r)},t.prototype.update=function(e){var n=this.wobble+e*u,o=Math.sin(n)*c;return new t(this.basePos.plus(new r(0,o)),this.basePos,n)},t}(),a=function(){function t(t,e,n){this.speed=e,this.pos=t,this.reset=n,this.size=new r(1,1)}return Object.defineProperty(t.prototype,"type",{get:function(){return"lava"},enumerable:!1,configurable:!0}),t.create=function(e,n){switch(n){case"=":return new t(e,new r(2,0));case"|":return new t(e,new r(0,2));case"v":return new t(e,new r(0,3),e)}},t.prototype.collide=function(t){return new i(t.level,t.actors,"lost")},t.prototype.update=function(e,n){var r=this.pos.plus(this.speed.times(e));return n.level.touches(r,this.size,"wall")?this.reset?new t(this.reset,this.speed,this.reset):new t(this.pos,this.speed.times(-1)):new t(r,this.speed,this.reset)},t}(),l={".":"empty","#":"wall","+":"lava","@":function(){function t(t,e){this.pos=t,this.speed=e,this.size=new r(.8,1.5)}return Object.defineProperty(t.prototype,"type",{get:function(){return"player"},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e.plus(new r(0,-.5)),new r(0,0))},t.prototype.update=function(e,n,o){var i=0;o.ArrowLeft&&(i-=p),o.ArrowRight&&(i+=p);var s=this.pos,a=s.plus(new r(i*e,0));n.level.touches(a,this.size,"wall")||(s=a);var l=this.speed.y+e*f,u=s.plus(new r(0,l*e));return n.level.touches(u,this.size,"wall")?l=o.ArrowUp&&l>0?-y:0:s=u,new t(s,new r(i,l))},t}(),o:s,"=":a,v:a,"|":a,M:function(){function t(t){this.pos=t,this.size=new r(1.2,2)}return Object.defineProperty(t.prototype,"type",{get:function(){return"monster"},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e.plus(new r(0,-1)))},t.prototype.update=function(e,n){var o=(n.player.pos.x<this.pos.x?-1:1)*e*h,i=new r(this.pos.x+o,this.pos.y);return n.level.touches(i,this.size,"wall")?this:new t(i)},t.prototype.collide=function(t){var e=this,n=t.player;if(n.pos.y+n.size.y<this.pos.y+.5){var r=t.actors.filter((function(t){return t!=e}));return new i(t.level,r,t.status)}return new i(t.level,t.actors,"lost")},t}()},u=8,c=.07,p=7,h=4,f=30,y=17,w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},v=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(w(arguments[e]));return t},d=function(){function t(t){var e=this,n=t.trim().split("\n").map((function(t){return v(t)}));this.height=n.length,this.width=n[0].length,this.startActors=[],this.rows=n.map((function(t,n){return t.map((function(t,o){var i=l[t];return"string"==typeof i?i:(e.startActors.push(i.create(new r(o,n),t)),"empty")}))}))}return t.prototype.touches=function(t,e,n){for(var r=Math.floor(t.x),o=Math.ceil(t.x+e.x),i=Math.floor(t.y),s=Math.ceil(t.y+e.y),a=i;a<s;a++)for(var l=r;l<o;l++){if((l<0||l>=this.width||a<0||a>=this.height?"wall":this.rows[a][l])==n)return!0}return!1},t}();var b=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function g(t){var e=null;requestAnimationFrame((function n(r){if(null!==e){var o=Math.min(r-e,100)/1e3;if(!1===t(o))return}e=r,requestAnimationFrame(n)}))}function x(t,e){var n=new e(document.body,t),r=i.start(t),o=1,s="yes",a=function(t){var e=Object.create(null);function n(n){t.includes(n.key)&&(e[n.key]="keydown"===n.type,n.preventDefault())}return window.addEventListener("keydown",n),window.addEventListener("keyup",n),e.unregister=function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",n)},e}(["ArrowLeft","ArrowRight","ArrowUp"]);return new Promise((function(t){function e(t){"Escape"===t.key&&(t.preventDefault(),"no"===s?(s="yes",g(i)):s=(s="yes")?"pausing":"yes")}function i(i){return"pausing"===s?(s="no",!1):(r=r.update(i,a),n.syncState(r),"playing"===r.status||(o>0?(o-=i,!0):(n.clear(),window.removeEventListener("keydown",e),a.unregister(),t(r.status),!1)))}window.addEventListener("keydown",e),g(i)}))}var S=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t,e){b(this,void 0,void 0,(function(){var n,r,o;return m(this,(function(i){switch(i.label){case 0:n=5,r=0,i.label=1;case 1:return r<t.length?[4,x(new d(t[r]),e)]:[3,4];case 2:"won"===(o=i.sent())&&r++,"lost"===o&&(console.log(--n+" жизней"),0===n&&(console.log("ты проиграл"),r=0,n=5)),i.label=3;case 3:return[3,1];case 4:return console.log("ты победил!"),[2]}}))}))}(["\n............................................\n............................................\n............................................\n............................................\n..#......................................#..\n..#.....................#................#..\n..#.........o.o....#....#.........o.o....#..\n..#.@......#####...#....#........#####...#..\n..#####............#....#####............#..\n......#++++++++++++#........#..........M.#..\n=..=.=##############=..=..=.##############=.\n++++++++++++++++++++++++++++++++++++++++++++","\n.....................................................................................################.................................................v\n......................................................................................###.v.....v......................................................\n........................................................................................v..............................................................\n.......................................................................................................................................................\n#...............................................................................................................oo....................................o\n###..................................o........................................................................................o..o....................#\n##..............................o....#.....o......................................................=.....o.o.o.........................o....o.........##\n##..............................#....#.....#............................................................#####.........ooooooo.........##...##........##\n##..............................#++++++++++#........................................o..o..o.........o................########....##..................##\n##.............................#############................................o.......########.......##...............................................###\n##.............................................................oo.........#####.....................................................................###\n##@...............######......................................####.....................|......oooo.................................................####\n###............o........................=...................................................#..#...............=.................................######\n#################+++++++#####################################################################+++++#####################################################\n#######################################################################################################################################################\n"],function(){function t(t,e){this.canvas=document.createElement("canvas"),this.canvas.width=Math.min(600,20*e.width),this.canvas.height=Math.min(450,20*e.height),t.appendChild(this.canvas),this.cx=this.canvas.getContext("2d"),this.flipPlayer=!1,this.viewport={left:0,top:0,width:this.canvas.width/20,height:this.canvas.height/20},this.otherSprites=document.createElement("img"),this.otherSprites.src="sprites.png",this.playerSprites=document.createElement("img"),this.playerSprites.src="player.png"}return t.prototype.clear=function(){this.canvas.remove()},t.prototype.syncState=function(t){this.updateViewport(t),this.clearDisplay(t.status),this.drawBackground(t.level),this.drawActors(t.actors)},t.prototype.updateViewport=function(t){var e=this.viewport,n=e.width/3,r=t.player,o=r.pos.plus(r.size.times(.5));o.x<e.left+n?e.left=Math.max(o.x-n,0):o.x>e.left+e.width-n&&(e.left=Math.min(o.x+n-e.width,t.level.width-e.width)),o.y<e.top+n?e.top=Math.max(o.y-n,0):o.y>e.top+e.height-n&&(e.top=Math.min(o.y+n-e.height,t.level.height-e.height))},t.prototype.clearDisplay=function(t){switch(t){case"won":this.cx.fillStyle="rgb(68, 190, 255)";break;case"lost":this.cx.fillStyle="rgb(44, 130, 215)";break;default:this.cx.fillStyle="rgb(52, 166, 250)"}this.cx.fillRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.drawBackground=function(t){for(var e=this.viewport,n=e.left,r=e.top,o=e.width,i=e.height,s=Math.floor(n),a=Math.ceil(n+o),l=Math.floor(r),u=Math.ceil(r+i),c=l;c<u;c++)for(var p=s;p<a;p++){var h=t.rows[c][p];if("empty"!==h){var f=20*(p-n),y=20*(c-r),w="lava"===h?20:0;this.cx.drawImage(this.otherSprites,w,0,20,20,f,y,20,20)}}},t.prototype.drawPlayer=function(t,e,n,r,o){r+=8,e-=4,0!==t.speed.x&&(this.flipPlayer=t.speed.x<0);var i=8;0!==t.speed.y?i=9:0!==t.speed.x&&(i=Math.floor(Date.now()/60)%8),this.cx.save(),this.flipPlayer&&this.flipHorizontally(this.cx,e+r/2);var s=i*r;this.cx.drawImage(this.playerSprites,s,0,r,o,e,n,r,o),this.cx.restore()},t.prototype.drawActors=function(t){var e,n;try{for(var r=S(t),o=r.next();!o.done;o=r.next()){var i=o.value,s=20*i.size.x,a=20*i.size.y,l=20*(i.pos.x-this.viewport.left),u=20*(i.pos.y-this.viewport.top);if("player"===i.type)this.drawPlayer(i,l,u,s,a);else{var c=20*("coin"===i.type?2:1);this.cx.drawImage(this.otherSprites,c,0,s,a,l,u,s,a)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.flipHorizontally=function(t,e){t.translate(e,0),t.scale(-1,1),t.translate(-e,0)},t}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xldmVscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVmVjLnRzIiwid2VicGFjazovLy8uL3NyYy9TdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYWN0b3JzL0NvaW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FjdG9ycy9MYXZhLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25zdHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FjdG9ycy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FjdG9ycy9Nb25zdGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9MZXZlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcnVuRnVuY3Rpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy9MaXN0ZW5lci50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheXMvQ2FudmFzRGlzcGxheS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIngiLCJ5IiwidGhpcyIsInBsdXMiLCJvdGhlciIsIlZlYyIsInRpbWVzIiwiZmFjdG9yIiwibGV2ZWwiLCJhY3RvcnMiLCJzdGF0dXMiLCJzdGFydCIsIlN0YXRlIiwic3RhcnRBY3RvcnMiLCJmaW5kIiwiYSIsInR5cGUiLCJ1cGRhdGUiLCJ0aW1lIiwia2V5cyIsIm1hcCIsImFjdG9yIiwibmV3U3RhdGUiLCJhY3RvcjEiLCJhY3RvcjIiLCJwbGF5ZXIiLCJ0b3VjaGVzIiwicG9zIiwic2l6ZSIsImNvbGxpZGUiLCJiYXNlUG9zIiwid29iYmxlIiwiQ29pbiIsIk1hdGgiLCJyYW5kb20iLCJQSSIsInN0YXRlIiwiZmlsdHJlZCIsImZpbHRlciIsInNvbWUiLCJ3b2JibGVTcGVlZCIsIndvYmJsZVBvcyIsInNpbiIsIndvYmJsZURpc3QiLCJzcGVlZCIsInJlc2V0IiwiY2giLCJMYXZhIiwibmV3UG9zIiwibGV2ZWxDaGFycyIsIlBsYXllciIsInhTcGVlZCIsIkFycm93TGVmdCIsInBsYXllclhTcGVlZCIsIkFycm93UmlnaHQiLCJtb3ZlZFgiLCJ5U3BlZWQiLCJncmF2aXR5IiwibW92ZWRZIiwiQXJyb3dVcCIsImp1bXBTcGVlZCIsIk1vbnN0ZXIiLCJtb25zdGVyU3BlZWQiLCJmaWx0ZXJlZCIsInBsYW4iLCJyb3dzIiwidHJpbSIsInNwbGl0IiwiaGVpZ2h0IiwibGVuZ3RoIiwid2lkdGgiLCJyb3ciLCJwdXNoIiwieFN0YXJ0IiwiZmxvb3IiLCJ4RW5kIiwiY2VpbCIsInlTdGFydCIsInlFbmQiLCJydW5BbmltYXRpb24iLCJmcmFtZUZ1bmMiLCJsYXN0VGltZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImZyYW1lIiwidGltZVN0ZXAiLCJtaW4iLCJydW5MZXZlbCIsIkRpc3BsYXkiLCJkaXNwbGF5IiwiZG9jdW1lbnQiLCJib2R5IiwiZW5kaW5nIiwicnVubmluZyIsImFycm93S2V5cyIsImRvd24iLCJ0cmFjayIsImV2ZW50IiwiaW5jbHVkZXMiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1bnJlZ2lzdGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRyYWNrS2V5cyIsIlByb21pc2UiLCJyZXNvbHZlIiwiZXNjSGFuZGxlciIsInN5bmNTdGF0ZSIsImNsZWFyIiwicGxhbnMiLCJsaXZlcyIsImNvbnNvbGUiLCJsb2ciLCJydW5HYW1lIiwicGFyZW50IiwiY2FudmFzIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY3giLCJnZXRDb250ZXh0IiwiZmxpcFBsYXllciIsInZpZXdwb3J0IiwibGVmdCIsInRvcCIsIm90aGVyU3ByaXRlcyIsInNyYyIsInBsYXllclNwcml0ZXMiLCJyZW1vdmUiLCJ1cGRhdGVWaWV3cG9ydCIsImNsZWFyRGlzcGxheSIsImRyYXdCYWNrZ3JvdW5kIiwiZHJhd0FjdG9ycyIsInZpZXciLCJtYXJnaW4iLCJjZW50ZXIiLCJtYXgiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInRpbGUiLCJ0aWxlWCIsImRyYXdJbWFnZSIsImRyYXdQbGF5ZXIiLCJwbGF5ZXJYT3ZlcmxhcCIsIkRhdGUiLCJub3ciLCJzYXZlIiwiZmxpcEhvcml6b250YWxseSIsInJlc3RvcmUiLCJjb250ZXh0IiwiYXJvdW5kIiwidHJhbnNsYXRlIiwic2NhbGUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVB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TytISGpELEVBQU1PLEtBQUs1QixFQUNuQm9FLEVQaElXLEdPZ0lGL0MsRUFBTU8sS0FBSzNCLEVBQ3BCRCxFUGpJVyxJT2lJTnFCLEVBQU1NLElBQUkzQixFQUFJRSxLQUFLdUgsU0FBU0MsTUFDakN6SCxFUGxJVyxJT2tJTm9CLEVBQU1NLElBQUkxQixFQUFJQyxLQUFLdUgsU0FBU0UsS0FFckMsR0FBbUIsV0FBZnRHLEVBQU1MLEtBQ1JkLEtBQUsySSxXQUFZeEgsRUFBa0JyQixFQUFHQyxFQUFHcUUsRUFBT0YsT0FFM0MsQ0FDTCxJQUFJdUUsRVB4SVMsSU93SWUsU0FBZnRILEVBQU1MLEtBQWtCLEVBQUksR0FDekNkLEtBQUtvSCxHQUFHc0IsVUFBVTFJLEtBQUswSCxhQUNyQmUsRUFDQSxFQUNBckUsRUFDQUYsRUFDQXBFLEVBQ0FDLEVBQ0FxRSxFQUNBRixLLG1HQUtSLFlBQUE4RSxpQkFBQSxTQUFpQkUsRUFBbUNDLEdBQ2xERCxFQUFRRSxVQUFVRCxFQUFRLEdBQzFCRCxFQUFRRyxPQUFPLEVBQUcsR0FDbEJILEVBQVFFLFdBQVdELEVBQVEsSUFFL0IsRUFqTEEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNvbnN0IGxldmVsMSA9IGBcclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jLi5cclxuLi4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uIy4uLi4uLi4uLi4uLi4uLi4jLi5cclxuLi4jLi4uLi4uLi4uby5vLi4uLiMuLi4uIy4uLi4uLi4uLm8uby4uLi4jLi5cclxuLi4jLkAuLi4uLi4jIyMjIy4uLiMuLi4uIy4uLi4uLi4uIyMjIyMuLi4jLi5cclxuLi4jIyMjIy4uLi4uLi4uLi4uLiMuLi4uIyMjIyMuLi4uLi4uLi4uLi4jLi5cclxuLi4uLi4uIysrKysrKysrKysrKyMuLi4uLi4uLiMuLi4uLi4uLi4uTS4jLi5cclxuPS4uPS49IyMjIyMjIyMjIyMjIyM9Li49Li49LiMjIyMjIyMjIyMjIyMjPS5cclxuKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKytgXHJcblxyXG5leHBvcnQgY29uc3QgbGV2ZWwyID0gYFxyXG4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjIyMjIyMjIyMjIyMjIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi52XHJcbi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjLnYuLi4uLnYuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cclxuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLnYuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxyXG4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXHJcbiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5vby4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm9cclxuIyMjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uby4uby4uLi4uLi4uLi4uLi4uLi4uLi4uI1xyXG4jIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm8uLi4uIy4uLi4uby4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLj0uLi4uLm8uby5vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm8uLi4uby4uLi4uLi4uLiMjXHJcbiMjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIy4uLi4jLi4uLi4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjIyMuLi4uLi4uLi5vb29vb29vLi4uLi4uLi4uIyMuLi4jIy4uLi4uLi4uIyNcclxuIyMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jKysrKysrKysrKyMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uby4uby4uby4uLi4uLi4uLm8uLi4uLi4uLi4uLi4uLi4uIyMjIyMjIyMuLi4uIyMuLi4uLi4uLi4uLi4uLi4uLi4jI1xyXG4jIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjIyMjIyMjIyMjIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uby4uLi4uLi4jIyMjIyMjIy4uLi4uLi4jIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjXHJcbiMjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLm9vLi4uLi4uLi4uIyMjIyMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jIyNcclxuIyNALi4uLi4uLi4uLi4uLi4uIyMjIyMjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jIyMjLi4uLi4uLi4uLi4uLi4uLi4uLi4ufC4uLi4uLm9vb28uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjI1xyXG4jIyMuLi4uLi4uLi4uLi5vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uPS4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLiMuLiMuLi4uLi4uLi4uLi4uLi49Li4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIyMjIyMjXHJcbiMjIyMjIyMjIyMjIyMjIyMjKysrKysrKyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIysrKysrIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5gIiwiXHJcbmV4cG9ydCBjbGFzcyBWZWMge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICB9XHJcblxyXG4gIHBsdXMob3RoZXI6IFZlYykge1xyXG4gICAgcmV0dXJuIG5ldyBWZWModGhpcy54ICsgb3RoZXIueCwgdGhpcy55ICsgb3RoZXIueSlcclxuICB9XHJcblxyXG4gIHRpbWVzKGZhY3RvcjogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gbmV3IFZlYyh0aGlzLnggKiBmYWN0b3IsIHRoaXMueSAqIGZhY3RvcilcclxuICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IExldmVsIH0gZnJvbSAnLi9MZXZlbCdcclxuaW1wb3J0IHsgb3ZlcmxhcCB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhdGUge1xyXG4gIGxldmVsOiBMZXZlbDtcclxuICBhY3RvcnM6IGFueTtcclxuICBzdGF0dXM6IHN0cmluZztcclxuICBzdGFydDogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihsZXZlbDogTGV2ZWwsIGFjdG9yczogYW55LCBzdGF0dXM6IHN0cmluZykge1xyXG4gICAgdGhpcy5sZXZlbCA9IGxldmVsO1xyXG4gICAgdGhpcy5hY3RvcnMgPSBhY3RvcnM7XHJcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzdGFydChsZXZlbDogTGV2ZWwpIHtcclxuICAgIHJldHVybiBuZXcgU3RhdGUobGV2ZWwsIGxldmVsLnN0YXJ0QWN0b3JzLCAncGxheWluZycpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHBsYXllcigpIHtcclxuICAgIHJldHVybiB0aGlzLmFjdG9ycy5maW5kKGEgPT4gYS50eXBlID09PSAncGxheWVyJyk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUodGltZTogbnVtYmVyLCBrZXlzOiBhbnkpIHtcclxuICAgIGxldCBhY3RvcnMgPSB0aGlzLmFjdG9yc1xyXG4gICAgICAubWFwKGFjdG9yID0+IGFjdG9yLnVwZGF0ZSh0aW1lLCB0aGlzLCBrZXlzKSk7XHJcbiAgICBsZXQgbmV3U3RhdGUgPSBuZXcgU3RhdGUodGhpcy5sZXZlbCwgYWN0b3JzLCB0aGlzLnN0YXR1cyk7XHJcblxyXG4gICAgaWYgKG5ld1N0YXRlLnN0YXR1cyAhPT0gJ3BsYXlpbmcnKSByZXR1cm4gbmV3U3RhdGU7XHJcblxyXG4gICAgbGV0IHBsYXllciA9IG5ld1N0YXRlLnBsYXllcjtcclxuICAgIGlmICh0aGlzLmxldmVsLnRvdWNoZXMocGxheWVyLnBvcywgcGxheWVyLnNpemUsICdsYXZhJykpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTdGF0ZSh0aGlzLmxldmVsLCBhY3RvcnMsICdsb3N0JylcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBhY3RvciBvZiBhY3RvcnMpIHtcclxuICAgICAgaWYgKGFjdG9yICE9PSBwbGF5ZXIgJiYgb3ZlcmxhcChhY3RvciwgcGxheWVyKSkge1xyXG4gICAgICAgIG5ld1N0YXRlID0gYWN0b3IuY29sbGlkZShuZXdTdGF0ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXdTdGF0ZTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBJQWN0b3IgfSBmcm9tICcuL3RzL2luZGV4J1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXAoYWN0b3IxOiBJQWN0b3IsIGFjdG9yMjogSUFjdG9yKSB7XHJcbiAgcmV0dXJuIGFjdG9yMS5wb3MueCArIGFjdG9yMS5zaXplLnggPiBhY3RvcjIucG9zLnggJiZcclxuICAgIGFjdG9yMS5wb3MueCA8IGFjdG9yMi5wb3MueCArIGFjdG9yMi5zaXplLnggJiZcclxuICAgIGFjdG9yMS5wb3MueSArIGFjdG9yMS5zaXplLnkgPiBhY3RvcjIucG9zLnkgJiZcclxuICAgIGFjdG9yMS5wb3MueSA8IGFjdG9yMi5wb3MueSArIGFjdG9yMi5zaXplLnk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlbHQobmFtZTogc3RyaW5nLCBhdHRyczogYW55LCAuLi5jaGlsZHJlbjogSFRNTEVsZW1lbnRbXSk6IEhUTUxFbGVtZW50IHtcclxuICBsZXQgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcclxuXHJcbiAgZm9yIChsZXQgYXR0ciBvZiBPYmplY3Qua2V5cyhhdHRycykpIHtcclxuICAgIGRvbS5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0cnNbYXR0cl0pO1xyXG4gIH1cclxuXHJcbiAgZm9yIChsZXQgY2hpbGQgb2YgY2hpbGRyZW4pIHtcclxuICAgIGRvbS5hcHBlbmRDaGlsZChjaGlsZCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZG9tO1xyXG59IiwiaW1wb3J0IHsgd29iYmxlRGlzdCwgd29iYmxlU3BlZWQgfSBmcm9tICcuLy4uL2NvbnN0cyc7XHJcbmltcG9ydCB7IFZlYyB9IGZyb20gJy4uL1ZlYydcclxuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9TdGF0ZSdcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2luIHtcclxuICBwb3M6IFZlYztcclxuICBiYXNlUG9zOiBWZWM7XHJcbiAgd29iYmxlOiBudW1iZXI7XHJcbiAgc2l6ZTogVmVjO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwb3M6IFZlYywgYmFzZVBvczogVmVjLCB3b2JibGU6IG51bWJlcikge1xyXG4gICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICB0aGlzLmJhc2VQb3MgPSBiYXNlUG9zO1xyXG4gICAgdGhpcy53b2JibGUgPSB3b2JibGU7XHJcbiAgICB0aGlzLnNpemUgPSBuZXcgVmVjKDAuNiwgMC42KTtcclxuICB9XHJcblxyXG4gIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuICdjb2luJztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGUocG9zOiBWZWMpIHtcclxuICAgIGxldCBiYXNlUG9zID0gcG9zLnBsdXMobmV3IFZlYygwLjIsIDAuMSkpO1xyXG4gICAgcmV0dXJuIG5ldyBDb2luKGJhc2VQb3MsIGJhc2VQb3MsIE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMilcclxuICB9XHJcblxyXG4gIGNvbGxpZGUoc3RhdGU6IFN0YXRlKTogU3RhdGUge1xyXG4gICAgbGV0IGZpbHRyZWQgPSBzdGF0ZS5hY3RvcnMuZmlsdGVyKGEgPT4gYSAhPT0gdGhpcyk7XHJcbiAgICBsZXQgc3RhdHVzID0gc3RhdGUuc3RhdHVzO1xyXG5cclxuICAgIGlmICghZmlsdHJlZC5zb21lKGEgPT4gYS50eXBlID09PSAnY29pbicpKSB7XHJcbiAgICAgIHN0YXR1cyA9ICd3b24nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBTdGF0ZShzdGF0ZS5sZXZlbCwgZmlsdHJlZCwgc3RhdHVzKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSh0aW1lOiBudW1iZXIpIHtcclxuICAgIGxldCB3b2JibGUgPSB0aGlzLndvYmJsZSArIHRpbWUgKiB3b2JibGVTcGVlZDtcclxuICAgIGxldCB3b2JibGVQb3MgPSBNYXRoLnNpbih3b2JibGUpICogd29iYmxlRGlzdDtcclxuXHJcbiAgICByZXR1cm4gbmV3IENvaW4odGhpcy5iYXNlUG9zLnBsdXMobmV3IFZlYygwLCB3b2JibGVQb3MpKSwgdGhpcy5iYXNlUG9zLCB3b2JibGUpO1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgVmVjIH0gZnJvbSAnLi4vVmVjJ1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL1N0YXRlJ1xyXG5pbXBvcnQgeyBJTGF2YUNoIH0gZnJvbSAnLi4vdHMnXHJcblxyXG5leHBvcnQgY2xhc3MgTGF2YSB7XHJcbiAgcG9zOiBWZWM7XHJcbiAgc3BlZWQ6IFZlYztcclxuICByZXNldD86IFZlYztcclxuICBzaXplOiBWZWM7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvczogVmVjLCBzcGVlZDogVmVjLCByZXNldD86IFZlYykge1xyXG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICB0aGlzLnJlc2V0ID0gcmVzZXQ7XHJcbiAgICB0aGlzLnNpemUgPSBuZXcgVmVjKDEsIDEpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gJ2xhdmEnO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZShwb3M6IFZlYywgY2g6IElMYXZhQ2gpIHtcclxuICAgIHN3aXRjaCAoY2gpIHtcclxuICAgICAgY2FzZSAnPSc6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMYXZhKHBvcywgbmV3IFZlYygyLCAwKSk7XHJcbiAgICAgIGNhc2UgJ3wnOlxyXG4gICAgICAgIHJldHVybiBuZXcgTGF2YShwb3MsIG5ldyBWZWMoMCwgMikpO1xyXG4gICAgICBjYXNlICd2JzpcclxuICAgICAgICByZXR1cm4gbmV3IExhdmEocG9zLCBuZXcgVmVjKDAsIDMpLCBwb3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29sbGlkZShzdGF0ZTogU3RhdGUpOiBTdGF0ZSB7XHJcbiAgICByZXR1cm4gbmV3IFN0YXRlKHN0YXRlLmxldmVsLCBzdGF0ZS5hY3RvcnMsICdsb3N0Jyk7XHJcbiAgfTtcclxuXHJcbiAgdXBkYXRlKHRpbWU6IG51bWJlciwgc3RhdGU6IFN0YXRlKTogTGF2YSB7XHJcbiAgICBsZXQgbmV3UG9zID0gdGhpcy5wb3MucGx1cyh0aGlzLnNwZWVkLnRpbWVzKHRpbWUpKTtcclxuICAgIGlmICghc3RhdGUubGV2ZWwudG91Y2hlcyhuZXdQb3MsIHRoaXMuc2l6ZSwgJ3dhbGwnKSkge1xyXG4gICAgICByZXR1cm4gbmV3IExhdmEobmV3UG9zLCB0aGlzLnNwZWVkLCB0aGlzLnJlc2V0KTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMucmVzZXQpIHtcclxuICAgICAgcmV0dXJuIG5ldyBMYXZhKHRoaXMucmVzZXQsIHRoaXMuc3BlZWQsIHRoaXMucmVzZXQpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBuZXcgTGF2YSh0aGlzLnBvcywgdGhpcy5zcGVlZC50aW1lcygtMSkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb2luIH0gZnJvbSAnLi9hY3RvcnMvQ29pbidcclxuaW1wb3J0IHsgTGF2YSB9IGZyb20gJy4vYWN0b3JzL0xhdmEnXHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vYWN0b3JzL1BsYXllcidcclxuaW1wb3J0IHsgTW9uc3RlciB9IGZyb20gJy4vYWN0b3JzL01vbnN0ZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IGxldmVsQ2hhcnM6IHtcclxuICAnLic6ICdlbXB0eScsXHJcbiAgJyMnOiAnd2FsbCcsXHJcbiAgJysnOiAnbGF2YScsXHJcbiAgJ0AnOiB0eXBlb2YgUGxheWVyLFxyXG4gICdvJzogdHlwZW9mIENvaW4sXHJcbiAgJz0nOiB0eXBlb2YgTGF2YSxcclxuICAndic6IHR5cGVvZiBMYXZhLFxyXG4gICd8JzogdHlwZW9mIExhdmEsXHJcbiAgJ00nOiB0eXBlb2YgTW9uc3RlcixcclxufSA9IHtcclxuICAnLic6ICdlbXB0eScsXHJcbiAgJyMnOiAnd2FsbCcsXHJcbiAgJysnOiAnbGF2YScsXHJcbiAgJ0AnOiBQbGF5ZXIsXHJcbiAgJ28nOiBDb2luLFxyXG4gICc9JzogTGF2YSxcclxuICAndic6IExhdmEsXHJcbiAgJ3wnOiBMYXZhLFxyXG4gICdNJzogTW9uc3RlcixcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBzY2FsZSA9IDIwO1xyXG5cclxuZXhwb3J0IGNvbnN0IHdvYmJsZVNwZWVkID0gODtcclxuXHJcbmV4cG9ydCBjb25zdCB3b2JibGVEaXN0ID0gMC4wNztcclxuXHJcbmV4cG9ydCBjb25zdCBwbGF5ZXJYU3BlZWQgPSA3O1xyXG5cclxuZXhwb3J0IGNvbnN0IG1vbnN0ZXJTcGVlZCA9IDQ7XHJcblxyXG5leHBvcnQgY29uc3QgZ3Jhdml0eSA9IDMwO1xyXG5cclxuZXhwb3J0IGNvbnN0IGp1bXBTcGVlZCA9IDE3O1xyXG5cclxuZXhwb3J0IGNvbnN0IHBsYXllclhPdmVybGFwID0gNDsiLCJpbXBvcnQgeyBncmF2aXR5LCBqdW1wU3BlZWQgfSBmcm9tICcuLy4uL2NvbnN0cyc7XHJcbmltcG9ydCB7IFZlYyB9IGZyb20gJy4uL1ZlYydcclxuaW1wb3J0IHsgcGxheWVyWFNwZWVkIH0gZnJvbSAnLi4vY29uc3RzJztcclxuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9TdGF0ZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuICBwb3M6IFZlYztcclxuICBzcGVlZDogVmVjO1xyXG4gIHNpemU6IFZlYztcclxuXHJcbiAgY29uc3RydWN0b3IocG9zOiBWZWMsIHNwZWVkOiBWZWMpIHtcclxuICAgIHRoaXMucG9zID0gcG9zO1xyXG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgdGhpcy5zaXplID0gbmV3IFZlYygwLjgsIDEuNSk7XHJcbiAgfVxyXG5cclxuICBnZXQgdHlwZSgpIHsgcmV0dXJuICdwbGF5ZXInIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZShwb3M6IFZlYykge1xyXG4gICAgcmV0dXJuIG5ldyBQbGF5ZXIocG9zLnBsdXMobmV3IFZlYygwLCAtMC41KSksXHJcbiAgICAgIG5ldyBWZWMoMCwgMCkpXHJcbiAgfVxyXG5cclxuICB1cGRhdGUodGltZTogbnVtYmVyLCBzdGF0ZTogU3RhdGUsIGtleXM6IGFueSk6IFBsYXllciB7XHJcbiAgICBsZXQgeFNwZWVkID0gMDtcclxuICAgIGlmIChrZXlzLkFycm93TGVmdCkge1xyXG4gICAgICB4U3BlZWQgLT0gcGxheWVyWFNwZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChrZXlzLkFycm93UmlnaHQpIHtcclxuICAgICAgeFNwZWVkICs9IHBsYXllclhTcGVlZDtcclxuICAgIH1cclxuICAgIGxldCBwb3MgPSB0aGlzLnBvcztcclxuICAgIGxldCBtb3ZlZFggPSBwb3MucGx1cyhuZXcgVmVjKHhTcGVlZCAqIHRpbWUsIDApKTtcclxuXHJcbiAgICBpZiAoIXN0YXRlLmxldmVsLnRvdWNoZXMobW92ZWRYLCB0aGlzLnNpemUsICd3YWxsJykpIHtcclxuICAgICAgcG9zID0gbW92ZWRYO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB5U3BlZWQgPSB0aGlzLnNwZWVkLnkgKyB0aW1lICogZ3Jhdml0eTtcclxuICAgIGxldCBtb3ZlZFkgPSBwb3MucGx1cyhuZXcgVmVjKDAsIHlTcGVlZCAqIHRpbWUpKTtcclxuXHJcbiAgICBpZiAoIXN0YXRlLmxldmVsLnRvdWNoZXMobW92ZWRZLCB0aGlzLnNpemUsICd3YWxsJykpIHtcclxuICAgICAgcG9zID0gbW92ZWRZO1xyXG5cclxuICAgIH0gZWxzZSBpZiAoa2V5cy5BcnJvd1VwICYmIHlTcGVlZCA+IDApIHtcclxuICAgICAgeVNwZWVkID0gLWp1bXBTcGVlZDtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB5U3BlZWQgPSAwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBQbGF5ZXIocG9zLCBuZXcgVmVjKHhTcGVlZCwgeVNwZWVkKSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgVmVjIH0gZnJvbSAnLi8uLi9WZWMnO1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL1N0YXRlJztcclxuaW1wb3J0IHsgbW9uc3RlclNwZWVkIH0gZnJvbSAnLi4vY29uc3RzJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTW9uc3RlciB7XHJcbiAgcG9zOiBWZWM7XHJcbiAgc2l6ZTogVmVjO1xyXG4gIGNvbnN0cnVjdG9yKHBvczogVmVjKSB7XHJcbiAgICB0aGlzLnBvcyA9IHBvcztcclxuICAgIHRoaXMuc2l6ZSA9IG5ldyBWZWMoMS4yLCAyKTtcclxuICB9XHJcblxyXG4gIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuICdtb25zdGVyJztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGUocG9zOiBWZWMpOiBNb25zdGVyIHtcclxuICAgIHJldHVybiBuZXcgTW9uc3Rlcihwb3MucGx1cyhuZXcgVmVjKDAsIC0xKSkpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKHRpbWU6IG51bWJlciwgc3RhdGU6IFN0YXRlKTogTW9uc3RlciB7XHJcbiAgICBsZXQgcGxheWVyID0gc3RhdGUucGxheWVyO1xyXG4gICAgbGV0IHNwZWVkID0gKHBsYXllci5wb3MueCA8IHRoaXMucG9zLnggPyAtMSA6IDEpICogdGltZSAqIG1vbnN0ZXJTcGVlZDtcclxuICAgIGxldCBuZXdQb3MgPSBuZXcgVmVjKHRoaXMucG9zLnggKyBzcGVlZCwgdGhpcy5wb3MueSk7XHJcblxyXG4gICAgaWYgKHN0YXRlLmxldmVsLnRvdWNoZXMobmV3UG9zLCB0aGlzLnNpemUsICd3YWxsJykpIHtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG5ldyBNb25zdGVyKG5ld1BvcylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbGxpZGUoc3RhdGU6IFN0YXRlKSB7XHJcbiAgICBsZXQgcGxheWVyID0gc3RhdGUucGxheWVyO1xyXG4gICAgaWYgKHBsYXllci5wb3MueSArIHBsYXllci5zaXplLnkgPCB0aGlzLnBvcy55ICsgMC41KSB7XHJcbiAgICAgIGxldCBmaWx0ZXJlZCA9IHN0YXRlLmFjdG9ycy5maWx0ZXIoYSA9PiBhICE9IHRoaXMpO1xyXG4gICAgICByZXR1cm4gbmV3IFN0YXRlKHN0YXRlLmxldmVsLCBmaWx0ZXJlZCwgc3RhdGUuc3RhdHVzKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbmV3IFN0YXRlKHN0YXRlLmxldmVsLCBzdGF0ZS5hY3RvcnMsICdsb3N0JylcclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQgeyBWZWMgfSBmcm9tICcuL1ZlYydcclxuaW1wb3J0IHsgbGV2ZWxDaGFycyB9IGZyb20gJy4vY29uc3RzJ1xyXG5pbXBvcnQgeyBQTEMsIElBY3RvciB9IGZyb20gJy4vdHMnXHJcblxyXG5leHBvcnQgY2xhc3MgTGV2ZWwge1xyXG4gIGhlaWdodDogbnVtYmVyO1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgc3RhcnRBY3RvcnM6IFBMQ1tdO1xyXG4gIHJvd3M6IHN0cmluZ1tdW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBsYW46IHN0cmluZykge1xyXG4gICAgbGV0IHJvd3MgPSBwbGFuLnRyaW0oKS5zcGxpdCgnXFxuJykubWFwKGwgPT4gWy4uLmxdKTtcclxuICAgIHRoaXMuaGVpZ2h0ID0gcm93cy5sZW5ndGg7XHJcbiAgICB0aGlzLndpZHRoID0gcm93c1swXS5sZW5ndGg7XHJcbiAgICB0aGlzLnN0YXJ0QWN0b3JzID0gW107XHJcblxyXG4gICAgdGhpcy5yb3dzID0gcm93cy5tYXAoKHJvdzogc3RyaW5nW10sIHk6IG51bWJlcikgPT4ge1xyXG4gICAgICByZXR1cm4gcm93Lm1hcCgoY2g6IHN0cmluZywgeDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgbGV0IHR5cGU6IGFueSA9IGxldmVsQ2hhcnNbY2hdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PSAnc3RyaW5nJykgeyByZXR1cm4gdHlwZTsgfVxyXG4gICAgICAgIHRoaXMuc3RhcnRBY3RvcnMucHVzaChcclxuICAgICAgICAgICh0eXBlIGFzIElBY3RvcikuY3JlYXRlKG5ldyBWZWMoeCwgeSksIGNoKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuICdlbXB0eSc7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHRvdWNoZXMocG9zOiBWZWMsIHNpemU6IFZlYywgdHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgeFN0YXJ0ID0gTWF0aC5mbG9vcihwb3MueCk7XHJcbiAgICBsZXQgeEVuZCA9IE1hdGguY2VpbChwb3MueCArIHNpemUueCk7XHJcbiAgICBsZXQgeVN0YXJ0ID0gTWF0aC5mbG9vcihwb3MueSk7XHJcbiAgICBsZXQgeUVuZCA9IE1hdGguY2VpbChwb3MueSArIHNpemUueSk7XHJcblxyXG4gICAgZm9yIChsZXQgeSA9IHlTdGFydDsgeSA8IHlFbmQ7IHkrKykge1xyXG4gICAgICBmb3IgKGxldCB4ID0geFN0YXJ0OyB4IDwgeEVuZDsgeCsrKSB7XHJcbiAgICAgICAgbGV0IGlzT3V0c2lkZSA9IHggPCAwIHx8IHggPj0gdGhpcy53aWR0aCB8fCB5IDwgMCB8fCB5ID49IHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgIGxldCBoZXJlID0gaXNPdXRzaWRlID8gJ3dhbGwnIDogdGhpcy5yb3dzW3ldW3hdO1xyXG4gICAgICAgIGlmIChoZXJlID09IHR5cGUpIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgTGV2ZWwgfSBmcm9tIFwiLi9MZXZlbFwiO1xyXG5pbXBvcnQgeyBET01EaXNwbGF5IH0gZnJvbSBcIi4vRGlzcGxheXMvRE9NRGlzcGxheVwiO1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuL1N0YXRlXCI7XHJcbmltcG9ydCB7IHRyYWNrS2V5cyB9IGZyb20gJy4vTGlzdGVuZXInXHJcbmltcG9ydCB7IENhbnZhc0Rpc3BsYXkgfSBmcm9tIFwiLi9EaXNwbGF5cy9DYW52YXNEaXNwbGF5XCI7XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJ1bkFuaW1hdGlvbihmcmFtZUZ1bmM6IGFueSkge1xyXG4gIGxldCBsYXN0VGltZSA9IG51bGw7XHJcbiAgZnVuY3Rpb24gZnJhbWUodGltZTogbnVtYmVyKSB7XHJcbiAgICBpZiAobGFzdFRpbWUgIT09IG51bGwpIHtcclxuICAgICAgbGV0IHRpbWVTdGVwID0gTWF0aC5taW4odGltZSAtIGxhc3RUaW1lLCAxMDApIC8gMTAwMDtcclxuICAgICAgaWYgKGZyYW1lRnVuYyh0aW1lU3RlcCkgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsYXN0VGltZSA9IHRpbWU7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpO1xyXG4gIH1cclxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJ1bkxldmVsKGxldmVsOiBMZXZlbCwgRGlzcGxheTogdHlwZW9mIERPTURpc3BsYXkgfCB0eXBlb2YgQ2FudmFzRGlzcGxheSkge1xyXG4gIGxldCBkaXNwbGF5ID0gbmV3IERpc3BsYXkoZG9jdW1lbnQuYm9keSwgbGV2ZWwpO1xyXG4gIGxldCBzdGF0ZSA9IFN0YXRlLnN0YXJ0KGxldmVsKTtcclxuICBsZXQgZW5kaW5nID0gMTtcclxuICBsZXQgcnVubmluZzogJ3llcycgfCAnbm8nIHwgJ3BhdXNpbmcnID0gJ3llcydcclxuICBjb25zdCBhcnJvd0tleXMgPSB0cmFja0tleXMoWydBcnJvd0xlZnQnLCAnQXJyb3dSaWdodCcsICdBcnJvd1VwJ10pO1xyXG5cclxuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICBmdW5jdGlvbiBlc2NIYW5kbGVyKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcblxyXG4gICAgICBpZiAoZXZlbnQua2V5ICE9PSAnRXNjYXBlJykgcmV0dXJuO1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgaWYgKHJ1bm5pbmcgPT09ICdubycpIHtcclxuICAgICAgICBydW5uaW5nID0gJ3llcyc7XHJcbiAgICAgICAgcnVuQW5pbWF0aW9uKGZyYW1lKTtcclxuXHJcbiAgICAgIH0gZWxzZSBpZiAocnVubmluZyA9ICd5ZXMnKSB7XHJcbiAgICAgICAgcnVubmluZyA9ICdwYXVzaW5nJztcclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcnVubmluZyA9ICd5ZXMnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXNjSGFuZGxlcilcclxuXHJcbiAgICBmdW5jdGlvbiBmcmFtZSh0aW1lOiBudW1iZXIpIHtcclxuXHJcbiAgICAgIGlmIChydW5uaW5nID09PSAncGF1c2luZycpIHtcclxuICAgICAgICBydW5uaW5nID0gJ25vJztcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICB9XHJcbiAgICAgIHN0YXRlID0gc3RhdGUudXBkYXRlKHRpbWUsIGFycm93S2V5cyk7XHJcbiAgICAgIGRpc3BsYXkuc3luY1N0YXRlKHN0YXRlKTtcclxuXHJcbiAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09ICdwbGF5aW5nJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgfSBlbHNlIGlmIChlbmRpbmcgPiAwKSB7XHJcbiAgICAgICAgZW5kaW5nIC09IHRpbWU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpc3BsYXkuY2xlYXIoKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVzY0hhbmRsZXIpO1xyXG4gICAgICAgIGFycm93S2V5cy51bnJlZ2lzdGVyKCk7XHJcbiAgICAgICAgcmVzb2x2ZShzdGF0ZS5zdGF0dXMpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBydW5BbmltYXRpb24oZnJhbWUpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuR2FtZShwbGFuczogc3RyaW5nW10sIERpc3BsYXk6IHR5cGVvZiBET01EaXNwbGF5IHwgdHlwZW9mIENhbnZhc0Rpc3BsYXkpIHtcclxuICBsZXQgbGl2ZXMgPSA1O1xyXG4gIGZvciAobGV0IGxldmVsID0gMDsgbGV2ZWwgPCBwbGFucy5sZW5ndGg7KSB7XHJcbiAgICBsZXQgc3RhdHVzID0gYXdhaXQgcnVuTGV2ZWwobmV3IExldmVsKHBsYW5zW2xldmVsXSksIERpc3BsYXkpO1xyXG4gICAgaWYgKHN0YXR1cyA9PT0gJ3dvbicpIGxldmVsKys7XHJcbiAgICBpZiAoc3RhdHVzID09PSAnbG9zdCcpIHtcclxuICAgICAgY29uc29sZS5sb2coYCR7LS1saXZlc30g0LbQuNC30L3QtdC5YCk7XHJcbiAgICAgIGlmIChsaXZlcyA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfRgtGLINC/0YDQvtC40LPRgNCw0LsnKTtcclxuICAgICAgICBsZXZlbCA9IDA7XHJcbiAgICAgICAgbGl2ZXMgPSA1O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKCfRgtGLINC/0L7QsdC10LTQuNC7IScpO1xyXG59XHJcbiIsInR5cGUgSURvd24gPSB7XHJcbiAgW2tleSBpbiAnQXJyb3dMZWZ0JyB8ICdBcnJvd1JpZ2h0JyB8ICdBcnJvd1VwJ106IGJvb2xlYW47XHJcbn0gJiB7XHJcbiAgdW5yZWdpc3RlcigpOiB2b2lkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrS2V5cyhrZXlzOiBzdHJpbmdbXSkge1xyXG4gIGxldCBkb3duOiBJRG93biA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgZnVuY3Rpb24gdHJhY2soZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIGlmIChrZXlzLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcclxuICAgICAgZG93bltldmVudC5rZXldID0gZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nO1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYWNrKTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0cmFjayk7XHJcblxyXG4gIGRvd24udW5yZWdpc3RlciA9ICgpID0+IHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhY2spO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdHJhY2spO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRvd247XHJcbn0iLCJpbXBvcnQgeyBsZXZlbDEsIGxldmVsMiB9IGZyb20gJy4vc3JjL2xldmVscyc7XHJcbmltcG9ydCB7IHJ1bkdhbWUgfSBmcm9tIFwiLi9zcmMvcnVuRnVuY3Rpb25zXCJcclxuaW1wb3J0IHsgRE9NRGlzcGxheSB9IGZyb20gJy4vc3JjL0Rpc3BsYXlzL0RPTURpc3BsYXknO1xyXG5pbXBvcnQgeyBDYW52YXNEaXNwbGF5IH0gZnJvbSAnLi9zcmMvRGlzcGxheXMvQ2FudmFzRGlzcGxheSc7XHJcblxyXG5cclxucnVuR2FtZShbbGV2ZWwxLCBsZXZlbDJdLCBDYW52YXNEaXNwbGF5KSIsImltcG9ydCB7IElBY3RvciB9IGZyb20gJy4vLi4vdHMvaW5kZXgnO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuLy4uL2FjdG9ycy9QbGF5ZXInO1xyXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vLi4vU3RhdGUnO1xyXG5pbXBvcnQgeyBMZXZlbCB9IGZyb20gXCIuLi9MZXZlbFwiO1xyXG5pbXBvcnQgeyBzY2FsZSwgcGxheWVyWE92ZXJsYXAgfSBmcm9tIFwiLi4vY29uc3RzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FudmFzRGlzcGxheSB7XHJcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICBjeDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gIGZsaXBQbGF5ZXI6IGJvb2xlYW47XHJcbiAgdmlld3BvcnQ6IHtcclxuICAgIGxlZnQ6IG51bWJlcjtcclxuICAgIHRvcDogbnVtYmVyO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gIH07XHJcbiAgb3RoZXJTcHJpdGVzOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIHBsYXllclNwcml0ZXM6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmVudDogSFRNTEVsZW1lbnQsIGxldmVsOiBMZXZlbCkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5taW4oNjAwLCBsZXZlbC53aWR0aCAqIHNjYWxlKTtcclxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGgubWluKDQ1MCwgbGV2ZWwuaGVpZ2h0ICogc2NhbGUpO1xyXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcclxuXHJcbiAgICB0aGlzLmN4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIHRoaXMuZmxpcFBsYXllciA9IGZhbHNlO1xyXG4gICAgdGhpcy52aWV3cG9ydCA9IHtcclxuICAgICAgbGVmdDogMCxcclxuICAgICAgdG9wOiAwLFxyXG4gICAgICB3aWR0aDogdGhpcy5jYW52YXMud2lkdGggLyBzY2FsZSxcclxuICAgICAgaGVpZ2h0OiB0aGlzLmNhbnZhcy5oZWlnaHQgLyBzY2FsZSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vdGhlclNwcml0ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIHRoaXMub3RoZXJTcHJpdGVzLnNyYyA9ICdzcHJpdGVzLnBuZyc7XHJcbiAgICB0aGlzLnBsYXllclNwcml0ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIHRoaXMucGxheWVyU3ByaXRlcy5zcmMgPSAncGxheWVyLnBuZyc7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuY2FudmFzLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgc3luY1N0YXRlKHN0YXRlOiBTdGF0ZSkge1xyXG4gICAgdGhpcy51cGRhdGVWaWV3cG9ydChzdGF0ZSk7XHJcbiAgICB0aGlzLmNsZWFyRGlzcGxheShzdGF0ZS5zdGF0dXMpO1xyXG4gICAgdGhpcy5kcmF3QmFja2dyb3VuZChzdGF0ZS5sZXZlbCk7XHJcbiAgICB0aGlzLmRyYXdBY3RvcnMoc3RhdGUuYWN0b3JzKTtcclxuICB9O1xyXG5cclxuICB1cGRhdGVWaWV3cG9ydChzdGF0ZTogU3RhdGUpIHtcclxuICAgIGxldCB2aWV3ID0gdGhpcy52aWV3cG9ydCxcclxuICAgICAgbWFyZ2luID0gdmlldy53aWR0aCAvIDMsXHJcbiAgICAgIHBsYXllciA9IHN0YXRlLnBsYXllcixcclxuICAgICAgY2VudGVyID0gcGxheWVyLnBvcy5wbHVzKHBsYXllci5zaXplLnRpbWVzKDAuNSkpO1xyXG5cclxuICAgIGlmIChjZW50ZXIueCA8IHZpZXcubGVmdCArIG1hcmdpbikge1xyXG4gICAgICB2aWV3LmxlZnQgPSBNYXRoLm1heChjZW50ZXIueCAtIG1hcmdpbiwgMCk7XHJcblxyXG4gICAgfSBlbHNlIGlmIChjZW50ZXIueCA+IHZpZXcubGVmdCArIHZpZXcud2lkdGggLSBtYXJnaW4pIHtcclxuICAgICAgdmlldy5sZWZ0ID0gTWF0aC5taW4oY2VudGVyLnggKyBtYXJnaW4gLSB2aWV3LndpZHRoLFxyXG4gICAgICAgIHN0YXRlLmxldmVsLndpZHRoIC0gdmlldy53aWR0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNlbnRlci55IDwgdmlldy50b3AgKyBtYXJnaW4pIHtcclxuICAgICAgdmlldy50b3AgPSBNYXRoLm1heChjZW50ZXIueSAtIG1hcmdpbiwgMCk7XHJcblxyXG4gICAgfSBlbHNlIGlmIChjZW50ZXIueSA+IHZpZXcudG9wICsgdmlldy5oZWlnaHQgLSBtYXJnaW4pIHtcclxuICAgICAgdmlldy50b3AgPSBNYXRoLm1pbihjZW50ZXIueSArIG1hcmdpbiAtIHZpZXcuaGVpZ2h0LFxyXG4gICAgICAgIHN0YXRlLmxldmVsLmhlaWdodCAtIHZpZXcuaGVpZ2h0KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjbGVhckRpc3BsYXkoc3RhdHVzOiBzdHJpbmcpIHtcclxuICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgIGNhc2UgJ3dvbic6XHJcbiAgICAgICAgdGhpcy5jeC5maWxsU3R5bGUgPSAncmdiKDY4LCAxOTAsIDI1NSknO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnbG9zdCc6XHJcbiAgICAgICAgdGhpcy5jeC5maWxsU3R5bGUgPSAncmdiKDQ0LCAxMzAsIDIxNSknO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICB0aGlzLmN4LmZpbGxTdHlsZSA9ICdyZ2IoNTIsIDE2NiwgMjUwKSc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICB0aGlzLmN4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gIH07XHJcblxyXG4gIGRyYXdCYWNrZ3JvdW5kKGxldmVsOiBMZXZlbCkge1xyXG4gICAgbGV0IHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnZpZXdwb3J0O1xyXG4gICAgbGV0IHhTdGFydCA9IE1hdGguZmxvb3IobGVmdCk7XHJcbiAgICBsZXQgeEVuZCA9IE1hdGguY2VpbChsZWZ0ICsgd2lkdGgpO1xyXG4gICAgbGV0IHlTdGFydCA9IE1hdGguZmxvb3IodG9wKTtcclxuICAgIGxldCB5RW5kID0gTWF0aC5jZWlsKHRvcCArIGhlaWdodCk7XHJcblxyXG4gICAgZm9yIChsZXQgeSA9IHlTdGFydDsgeSA8IHlFbmQ7IHkrKykge1xyXG4gICAgICBmb3IgKGxldCB4ID0geFN0YXJ0OyB4IDwgeEVuZDsgeCsrKSB7XHJcbiAgICAgICAgbGV0IHRpbGUgPSBsZXZlbC5yb3dzW3ldW3hdO1xyXG4gICAgICAgIGlmICh0aWxlID09PSAnZW1wdHknKSBjb250aW51ZTtcclxuICAgICAgICBsZXQgc2NyZWVuWCA9ICh4IC0gbGVmdCkgKiBzY2FsZTtcclxuICAgICAgICBsZXQgc2NyZWVuWSA9ICh5IC0gdG9wKSAqIHNjYWxlO1xyXG4gICAgICAgIGxldCB0aWxlWCA9IHRpbGUgPT09ICdsYXZhJyA/IHNjYWxlIDogMDtcclxuICAgICAgICB0aGlzLmN4LmRyYXdJbWFnZSh0aGlzLm90aGVyU3ByaXRlcyxcclxuICAgICAgICAgIHRpbGVYLFxyXG4gICAgICAgICAgMCxcclxuICAgICAgICAgIHNjYWxlLFxyXG4gICAgICAgICAgc2NhbGUsXHJcbiAgICAgICAgICBzY3JlZW5YLFxyXG4gICAgICAgICAgc2NyZWVuWSxcclxuICAgICAgICAgIHNjYWxlLFxyXG4gICAgICAgICAgc2NhbGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkcmF3UGxheWVyKHBsYXllcjogUGxheWVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgIHdpZHRoICs9IHBsYXllclhPdmVybGFwICogMjtcclxuICAgIHggLT0gcGxheWVyWE92ZXJsYXA7XHJcblxyXG4gICAgaWYgKHBsYXllci5zcGVlZC54ICE9PSAwKSB7XHJcbiAgICAgIHRoaXMuZmxpcFBsYXllciA9IHBsYXllci5zcGVlZC54IDwgMDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGlsZSA9IDg7XHJcbiAgICBpZiAocGxheWVyLnNwZWVkLnkgIT09IDApIHtcclxuICAgICAgdGlsZSA9IDk7XHJcblxyXG4gICAgfSBlbHNlIGlmIChwbGF5ZXIuc3BlZWQueCAhPT0gMCkge1xyXG4gICAgICB0aWxlID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gNjApICUgODtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmN4LnNhdmUoKTtcclxuXHJcbiAgICBpZiAodGhpcy5mbGlwUGxheWVyKSB7XHJcbiAgICAgIHRoaXMuZmxpcEhvcml6b250YWxseSh0aGlzLmN4LCB4ICsgd2lkdGggLyAyKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGlsZVggPSB0aWxlICogd2lkdGg7XHJcbiAgICB0aGlzLmN4LmRyYXdJbWFnZSh0aGlzLnBsYXllclNwcml0ZXMsXHJcbiAgICAgIHRpbGVYLFxyXG4gICAgICAwLFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgaGVpZ2h0LFxyXG4gICAgICB4LFxyXG4gICAgICB5LFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgaGVpZ2h0KTtcclxuICAgIHRoaXMuY3gucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgZHJhd0FjdG9ycyhhY3RvcnM6IGFueVtdKSB7XHJcbiAgICBmb3IgKGxldCBhY3RvciBvZiBhY3RvcnMpIHtcclxuICAgICAgbGV0IHdpZHRoID0gYWN0b3Iuc2l6ZS54ICogc2NhbGU7XHJcbiAgICAgIGxldCBoZWlnaHQgPSBhY3Rvci5zaXplLnkgKiBzY2FsZTtcclxuICAgICAgbGV0IHggPSAoYWN0b3IucG9zLnggLSB0aGlzLnZpZXdwb3J0LmxlZnQpICogc2NhbGU7XHJcbiAgICAgIGxldCB5ID0gKGFjdG9yLnBvcy55IC0gdGhpcy52aWV3cG9ydC50b3ApICogc2NhbGU7XHJcblxyXG4gICAgICBpZiAoYWN0b3IudHlwZSA9PT0gJ3BsYXllcicpIHtcclxuICAgICAgICB0aGlzLmRyYXdQbGF5ZXIoKGFjdG9yIGFzIFBsYXllciksIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgdGlsZVggPSAoYWN0b3IudHlwZSA9PT0gJ2NvaW4nID8gMiA6IDEpICogc2NhbGU7XHJcbiAgICAgICAgdGhpcy5jeC5kcmF3SW1hZ2UodGhpcy5vdGhlclNwcml0ZXMsXHJcbiAgICAgICAgICB0aWxlWCxcclxuICAgICAgICAgIDAsXHJcbiAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgIHgsXHJcbiAgICAgICAgICB5LFxyXG4gICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICBoZWlnaHQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZmxpcEhvcml6b250YWxseShjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGFyb3VuZDogbnVtYmVyKSB7XHJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZShhcm91bmQsIDApO1xyXG4gICAgY29udGV4dC5zY2FsZSgtMSwgMSk7XHJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSgtYXJvdW5kLCAwKVxyXG4gIH1cclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==